"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[833],{4833:function(o,a,r){r.r(a),r.d(a,{default:function(){return G}});var e=r(3396),l=r(7139),t=r(9242);const i=o=>((0,e.dD)("data-v-500d5a7f"),o=o(),(0,e.Cn)(),o),s={class:"container"},c=i((()=>(0,e._)("hr",null,null,-1))),d={class:"row"},n={class:"card mb-4"},m=["onClick","src"],u={class:"card-body"},p={class:"card-title"},b={class:"card-text"},f={class:"card-text"},_=i((()=>(0,e._)("strong",null,"DirecciÃ³n:",-1))),h={key:0},g=["onClick"],v={class:"modal",id:"solicitudModal",tabindex:"-1",role:"dialog","aria-labelledby":"solicitudModalLabel","aria-hidden":"true"},D={class:"modal-dialog",role:"document"},y={class:"modal-content"},I=i((()=>(0,e._)("div",{class:"modal-header"},[(0,e._)("h4",{class:"modal-title",id:"solicitudModalLabel"},"Solicitar Servicio"),(0,e._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"})],-1))),w={class:"modal-body"},k=i((()=>(0,e._)("b",null,[(0,e._)("p",null,"Creando servicio:")],-1))),C={class:"form-group"},S=i((()=>(0,e._)("label",{for:"nombre"},"Nombres:",-1))),U={class:"form-group"},x=i((()=>(0,e._)("label",{for:"correo"},"Correo:",-1))),B={class:"form-group"},M=i((()=>(0,e._)("label",{for:"celular"},"Numero de celular:",-1))),R={class:"form-group"},V=i((()=>(0,e._)("label",{for:"description"},"Descripcion:",-1)));function z(o,a,r,i,z,E){return(0,e.wg)(),(0,e.iD)("div",s,[c,(0,e._)("div",d,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(z.bares,(o=>((0,e.wg)(),(0,e.iD)("div",{class:"col-md-4",key:o.id},[(0,e._)("div",n,[(0,e._)("img",{onClick:a=>E.enviarIdGaleria(o._id,o.customer_id),src:o.image,class:"card-img-top",alt:"Bar"},null,8,m),(0,e._)("div",u,[(0,e._)("h5",p,(0,l.zw)(o.name),1),(0,e._)("p",b,(0,l.zw)(o.description),1),(0,e._)("p",f,[_,(0,e.Uk)(" "+(0,l.zw)(o.address),1)]),"Cliente"===z.customerRol?((0,e.wg)(),(0,e.iD)("div",h,[(0,e._)("button",{class:"btn btn-primary","data-toggle":"modal","data-target":"#solicitudModal",onClick:a=>E.enviarcid(o.customer_id,o._id)},"Obtener Servicio",8,g)])):(0,e.kq)("",!0)])])])))),128))]),(0,e._)("div",v,[(0,e._)("div",D,[(0,e._)("div",y,[I,(0,e._)("div",w,[k,(0,e._)("form",null,[(0,e._)("div",C,[S,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Describa nombre y apellido","onUpdate:modelValue":a[0]||(a[0]=o=>z.formData.nombre=o),readonly:""},null,512),[[t.nr,z.formData.nombre]])]),(0,e._)("div",U,[x,(0,e.wy)((0,e._)("input",{type:"email",class:"form-control",placeholder:"Escriba su correo",id:"apellidos","onUpdate:modelValue":a[1]||(a[1]=o=>z.formData.correo=o),readonly:""},null,512),[[t.nr,z.formData.correo]])]),(0,e._)("div",B,[M,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control",id:"celular",placeholder:"eje +57 304 000 4445","onUpdate:modelValue":a[2]||(a[2]=o=>z.formData.celular=o),readonly:""},null,512),[[t.nr,z.formData.celular]])]),(0,e._)("div",R,[V,(0,e.wy)((0,e._)("textarea",{id:"description",placeholder:"Describa su solicitud",rows:"3","onUpdate:modelValue":a[3]||(a[3]=o=>z.formData.description=o)},null,512),[[t.nr,z.formData.description]])]),(0,e._)("button",{type:"button",class:"btn btn-success",onClick:a[4]||(a[4]=(...o)=>E.submitForm&&E.submitForm(...o))},"Solicitar")])])])])])])}r(560);var E=r(1076),F={data(){return{bares:[],customerRol:"",tipo:"Bar",formData:{nombre:"",celular:"",correo:"",description:"",clienteId:null,customerId:null,negocio_id:null}}},mounted(){this.customerRol=localStorage.getItem("usuarioRol"),this.formData.clienteId=localStorage.getItem("customerId"),this.formData.nombre=localStorage.getItem("nombreUsuario"),this.formData.correo=localStorage.getItem("correoUsuario"),this.formData.celular=localStorage.getItem("celularUsuario"),this.fetchBares()},methods:{async fetchBares(){try{const o=await E.Z.get("http://localhost:3000/app/Bar");this.bares=o.data}catch(o){console.error("Error al obtener los bares",o)}},enviarIdGaleria(o,a){localStorage.setItem("negocioId",o),localStorage.setItem("customerNegocioId",a),this.$router.push({path:"/artegaleria"})},enviarcid(o,a){this.formData.customerId=o,this.formData.negocio_id=a},async submitForm(){try{console.log(this.formData);const o=await E.Z.post(`http://localhost:3000/app/pedirServicio?tipo=${this.tipo}`,this.formData);console.log(o),this.formData.customerId=null,this.formData.negocio_id=null,this.formData.description=""}catch(o){console.error("Error al enviar la solicitud",o)}}}},N=r(89);const Z=(0,N.Z)(F,[["render",z],["__scopeId","data-v-500d5a7f"]]);var G=Z}}]);
//# sourceMappingURL=833.43f217b1.js.map
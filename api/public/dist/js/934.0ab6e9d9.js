"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[934],{9934:function(o,a,e){e.r(a),e.d(a,{default:function(){return O}});var l=e(3396),r=e(7139),t=e(9242);const s=o=>((0,l.dD)("data-v-ec56e76c"),o=o(),(0,l.Cn)(),o),c={class:"container"},i=s((()=>(0,l._)("hr",null,null,-1))),d={class:"row justify-content-center"},n={class:"card mb-4"},u=["onClick","src"],m={class:"card-body"},p={class:"card-title"},_={class:"card-text"},b={class:"card-text"},f=s((()=>(0,l._)("strong",null,"Dirección:",-1))),h={class:"card-text"},g=s((()=>(0,l._)("strong",null,"Teléfono:",-1))),v={key:0},D=["onClick"],y={class:"modal",id:"solicitudModal",tabindex:"-1",role:"dialog","aria-labelledby":"solicitudModalLabel","aria-hidden":"true"},C={class:"modal-dialog",role:"document"},w={class:"modal-content"},I={class:"modal-header"},k=s((()=>(0,l._)("h4",{class:"modal-title",id:"solicitudModalLabel"},"Solicitar Servicio",-1))),M={class:"modal-body"},x=s((()=>(0,l._)("b",null,[(0,l._)("p",null,"Creando servicio:")],-1))),S={class:"form-group"},R=s((()=>(0,l._)("label",{for:"nombre"},"Nombres:",-1))),U={class:"form-group"},z=s((()=>(0,l._)("label",{for:"correo"},"Correo:",-1))),A={class:"form-group"},F=s((()=>(0,l._)("label",{for:"celular"},"Numero de celular:",-1))),N=s((()=>(0,l._)("div",{class:"form-group"},[(0,l._)("label",{for:"description"},"Descripcion:"),(0,l._)("textarea",{id:"description",placeholder:"Deescriba su solicitud",rows:"3"})],-1)));function V(o,a,e,s,V,j){return(0,l.wg)(),(0,l.iD)("div",c,[i,(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(V.artesanias,(o=>((0,l.wg)(),(0,l.iD)("div",{class:"col-lg-4 col-md-6 col-sm-12",key:o.id},[(0,l._)("div",n,[(0,l._)("img",{onClick:a=>j.enviarIdGaleria(o._id,o.customer_id),src:o.image,class:"card-img-top",alt:"Artesanía"},null,8,u),(0,l._)("div",m,[(0,l._)("h5",p,(0,r.zw)(o.name),1),(0,l._)("p",_,(0,r.zw)(o.description),1),(0,l._)("p",b,[f,(0,l.Uk)(" "+(0,r.zw)(o.address),1)]),(0,l._)("p",h,[g,(0,l.Uk)(" "+(0,r.zw)(o.phone),1)]),"Cliente"===V.customerRol?((0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("button",{class:"btn btn-primary","data-toggle":"modal","data-target":"#solicitudModal",onClick:a=>j.enviarcid(o.customer_id,o._id)},"Obtener Servicio",8,D)])):(0,l.kq)("",!0)])])])))),128))]),(0,l._)("div",y,[(0,l._)("div",C,[(0,l._)("div",w,[(0,l._)("div",I,[k,(0,l._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=(...o)=>j.closeModal&&j.closeModal(...o))})]),(0,l._)("div",M,[x,(0,l._)("form",null,[(0,l._)("div",S,[R,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Describa nombre y apellido","onUpdate:modelValue":a[1]||(a[1]=o=>V.formData.nombre=o)},null,512),[[t.nr,V.formData.nombre]])]),(0,l._)("div",U,[z,(0,l.wy)((0,l._)("input",{type:"email",class:"form-control",placeholder:"Escriba su correo",id:"apellidos","onUpdate:modelValue":a[2]||(a[2]=o=>V.formData.correo=o)},null,512),[[t.nr,V.formData.correo]])]),(0,l._)("div",A,[F,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"celular",placeholder:"eje +57 304 000 4445","onUpdate:modelValue":a[3]||(a[3]=o=>V.formData.celular=o)},null,512),[[t.nr,V.formData.celular]])]),N,(0,l._)("button",{type:"button",class:"btn btn-success",onClick:a[4]||(a[4]=(...o)=>j.submitForm&&j.submitForm(...o))},"Solicitar")])])])])])])}e(560);var j=e(1076),E={data(){return{artesanias:[],customerRol:"",userRole:"usuario",formData:{_id:null,nombre:"",celular:"",correo:"",customerId:null}}},mounted(){this.customerRol=localStorage.getItem("usuarioRol"),this.fetchArtesanias()},methods:{async fetchArtesanias(){try{const o=await j.Z.get("http://localhost:3000/app/Artesania");this.artesanias=o.data,console.log(this.artesanias)}catch(o){console.error("Error al obtener las artesanías",o)}},enviarIdGaleria(o,a){localStorage.setItem("negocioId",o),localStorage.setItem("customerNegocioId",a),this.$router.push({path:"/artegaleria"})},enviarcid(o,a){this.formData.customerId=o,this.formData._id=a,console.log(this.formData)},openModal(o){this.selectedCustomerId=o,this.formData.customerId=o,this.modalOpen=!0},closeModal(){this.selectedCustomerId=null,this.formData={_id:null,nombre:"",apellidos:"",descripcion:"",celular:"",correo:"",customerId:null}},submitForm(){console.log("CustomerID seleccionado:",this.selectedCustomerId),console.log("Formulario enviado con datos:",this.formData),this.closeModal()}}},G=e(89);const L=(0,G.Z)(E,[["render",V],["__scopeId","data-v-ec56e76c"]]);var O=L}}]);
//# sourceMappingURL=934.0ab6e9d9.js.map
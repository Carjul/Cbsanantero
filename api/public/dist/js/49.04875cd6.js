"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[49,376,754,539,283,286,518,822],{6154:function(a,e,r){r.r(e),r.d(e,{default:function(){return R}});var t=r(3396);const i=(0,t._)("hr",null,null,-1),l={key:0};function o(a,e,r,o,s,c){const n=(0,t.up)("MostrarVista");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(n,{infoUser:a.infoReset},null,8,["infoUser"]),i,c.mostrarInicial?((0,t.wg)(),(0,t.iD)("div",l,[((0,t.wg)(),(0,t.j4)((0,t.LL)(c.componenteInicial)))])):(0,t.kq)("",!0)])}var s=r(8237),c=r(3376),n=r(9286),d=r(5005),u=r(2917),p=r(7657),m=r(4518);const h={class:""},_=(0,t._)("h1",null," Tures ",-1),f=[_];function b(a,e){return(0,t.wg)(),(0,t.iD)("div",h,f)}var A=r(89);const g={},v=(0,A.Z)(g,[["render",b]]);var z=v,y=r(8399),C={components:{Us:s["default"],Ar:c["default"],Ba:n["default"],Ho:d["default"],Te:u["default"],Ta:p["default"],Jue:m["default"],Tures:z,Rest:y["default"]},data(){return{usuarioAutenticado:"true"===localStorage.getItem("usuarioAutenticado"),usuarioRol:localStorage.getItem("usuarioRol")||"",tipo_negocio:localStorage.getItem("Tipo_negocio")||""}},computed:{componenteInicial(){return this.usuarioAutenticado&&"Artesanías"===this.tipo_negocio?"Ar":this.usuarioAutenticado&&"Bares"===this.tipo_negocio?"Ba":this.usuarioAutenticado&&"Hospedaje"===this.tipo_negocio?"Ho":this.usuarioAutenticado&&"Hoteles"===this.tipo_negocio?"Te":this.usuarioAutenticado&&"Juegos"===this.tipo_negocio?"Jue":this.usuarioAutenticado&&"Restaurantes"===this.tipo_negocio?"Rest":this.usuarioAutenticado&&"Tour"===this.tipo_negocio?"Tures":this.usuarioAutenticado&&"Transporte"===this.tipo_negocio?"Ta":this.usuarioAutenticado&&"Admin"===this.usuarioRol?"Us":null},mostrarInicial(){return!!this.componenteInicial}}};const w=(0,A.Z)(C,[["render",o]]);var R=w},3376:function(a,e,r){r.r(e),r.d(e,{default:function(){return va}});var t=r(3396),i=r(9242),l=r(7139);const o=a=>((0,t.dD)("data-v-5b29a974"),a=a(),(0,t.Cn)(),a),s={id:"app"},c=o((()=>(0,t._)("nav",{class:"main-menu"},[(0,t._)("strong",null,"PANEL DE ADMINISTRACION"),(0,t._)("ul")],-1))),n={class:"content"},d={class:"left-content"},u={class:"card"},p={class:"card-body"},m=o((()=>(0,t._)("br",null,null,-1))),h=o((()=>(0,t._)("br",null,null,-1))),_=o((()=>(0,t._)("h5",{class:"card-title"},"Creación de Artesanía",-1))),f=o((()=>(0,t._)("p",{class:"card-text"},"En este espacio creamos nuevas artesanías para COSTA BRISA",-1))),b={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},A={class:"modal-dialog modal-dialog-centered",role:"document"},g={class:"modal-content"},v={class:"modal-header"},z=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Artesanía",-1))),y=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),C=[y],w={class:"modal-body"},R={class:"form-group"},B=o((()=>(0,t._)("label",{for:"nombreArtesania"},"Nombre:",-1))),M={class:"form-group"},x=o((()=>(0,t._)("label",{for:"direccionArtesania"},"Dirección:",-1))),I={class:"form-group"},D=o((()=>(0,t._)("label",{for:"imagenArtesania"},"Imagen:",-1))),k={class:"form-group"},E=o((()=>(0,t._)("label",{for:"telefonoArtesania"},"Teléfono:",-1))),L={class:"form-group"},S=o((()=>(0,t._)("label",{for:"descripcionArtesania"},"Descripción:",-1))),T=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Crear Artesanía",-1))),U={class:"right-content"},q=o((()=>(0,t._)("strong",null,"ARTESANÍA ACTUAL",-1))),F={class:"row"},V={class:"card"},$=["src"],Z={class:"card-body"},N={class:"card-title"},j={class:"card-text"},G={class:"card-text"},H={class:"card-text"},O=["onClick"],J=["onClick"],K={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},P={class:"modal-dialog modal-dialog-centered",role:"document"},Y={class:"modal-content"},W={class:"modal-header"},Q=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Artesanía",-1))),X=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),aa=[X],ea={class:"modal-body"},ra={class:"form-group"},ta=o((()=>(0,t._)("label",{for:"nombreArtesaniaActualizar"},"Nombre:",-1))),ia={class:"form-group"},la=o((()=>(0,t._)("label",{for:"direccionArtesaniaActualizar"},"Dirección:",-1))),oa={class:"form-group"},sa=o((()=>(0,t._)("label",{for:"imagenArtesaniaActualizar"},"Imagen:",-1))),ca={class:"form-group"},na=o((()=>(0,t._)("label",{for:"telefonoArtesaniaActualizar"},"Teléfono:",-1))),da={class:"form-group"},ua=o((()=>(0,t._)("label",{for:"descripcionArtesaniaActualizar"},"Descripción:",-1))),pa=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1))),ma={class:"modal-footer"},ha={key:0,class:"text-success"};function _a(a,e,r,o,y,X){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("main",null,[c,(0,t._)("section",n,[(0,t._)("div",d,[(0,t._)("div",u,[(0,t._)("div",p,[m,h,_,f,(0,t._)("button",{class:"btn btn-success mb-4",onClick:e[0]||(e[0]=(...a)=>X.abrirModalCrear&&X.abrirModalCrear(...a))},"Crear")])]),(0,t._)("div",b,[(0,t._)("div",A,[(0,t._)("div",g,[(0,t._)("div",v,[z,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=(...a)=>X.cerrarModalCrear&&X.cerrarModalCrear(...a))},C)]),(0,t._)("div",w,[(0,t._)("form",{onSubmit:e[7]||(e[7]=(0,i.iM)(((...a)=>X.crearArtesania&&X.crearArtesania(...a)),["prevent"]))},[(0,t._)("div",R,[B,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>y.nuevaArtesania.name=a),class:"form-control",id:"nombreArtesania",required:""},null,512),[[i.nr,y.nuevaArtesania.name]])]),(0,t._)("div",M,[x,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>y.nuevaArtesania.address=a),class:"form-control",id:"direccionArtesania",required:""},null,512),[[i.nr,y.nuevaArtesania.address]])]),(0,t._)("div",I,[D,(0,t._)("input",{name:"image",class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[4]||(e[4]=(...e)=>a.uploadFile&&a.uploadFile(...e)),id:"imagenArtesania",ref:"file",type:"file",multiple:"",style:{display:"none"}},null,544)]),(0,t._)("div",k,[E,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>y.nuevaArtesania.phone=a),class:"form-control",id:"telefonoArtesania",required:""},null,512),[[i.nr,y.nuevaArtesania.phone]])]),(0,t._)("div",L,[S,(0,t.wy)((0,t._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>y.nuevaArtesania.description=a),class:"form-control",id:"descripcionArtesania",required:""},null,512),[[i.nr,y.nuevaArtesania.description]])]),T],32)])])])],512)]),(0,t._)("div",U,[q,(0,t._)("div",F,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.artesanias,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,t._)("div",V,[(0,t._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Artesanía Image"},null,8,$),(0,t._)("div",Z,[(0,t._)("h5",N,(0,l.zw)(a.name),1),(0,t._)("p",j,"Dirección: "+(0,l.zw)(a.address),1),(0,t._)("p",G,"Descripción: "+(0,l.zw)(a.description),1),(0,t._)("p",H,"Teléfono: "+(0,l.zw)(a.phone),1),(0,t._)("button",{class:"btn btn-danger",onClick:e=>X.eliminarArtesania(a._id)},"Eliminar",8,O),(0,t._)("button",{class:"btn btn-primary",onClick:e=>X.abrirModalActualizar(a)},"Actualizar",8,J)])])])))),128))])]),(0,t._)("div",K,[(0,t._)("div",P,[(0,t._)("div",Y,[(0,t._)("div",W,[Q,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[8]||(e[8]=(...a)=>X.cerrarModalActualizar&&X.cerrarModalActualizar(...a))},aa)]),(0,t._)("div",ea,[(0,t._)("form",{onSubmit:e[14]||(e[14]=(0,i.iM)(((...a)=>X.actualizarArtesania&&X.actualizarArtesania(...a)),["prevent"]))},[(0,t._)("div",ra,[ta,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>y.artesaniaActualizada.name=a),class:"form-control",id:"nombreArtesaniaActualizar",required:""},null,512),[[i.nr,y.artesaniaActualizada.name]])]),(0,t._)("div",ia,[la,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>y.artesaniaActualizada.address=a),class:"form-control",id:"direccionArtesaniaActualizar",required:""},null,512),[[i.nr,y.artesaniaActualizada.address]])]),(0,t._)("div",oa,[sa,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[11]||(e[11]=e=>a.uploadFileActualizar()),id:"imagenArtesaniaActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,t._)("div",ca,[na,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=a=>y.artesaniaActualizada.phone=a),class:"form-control",id:"telefonoArtesaniaActualizar",required:""},null,512),[[i.nr,y.artesaniaActualizada.phone]])]),(0,t._)("div",da,[ua,(0,t.wy)((0,t._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=a=>y.artesaniaActualizada.description=a),class:"form-control",id:"descripcionArtesaniaActualizar",required:""},null,512),[[i.nr,y.artesaniaActualizada.description]])]),pa],32)]),(0,t._)("div",ma,[a.successMessage?((0,t.wg)(),(0,t.iD)("p",ha,(0,l.zw)(a.successMessage),1)):(0,t.kq)("",!0)])])])],512)])])])}var fa=r(1076),ba={data(){return{artesanias:[],artesaniaActualizada:{_id:null,name:"",address:"",image:"",phone:"",description:""},file:null,nuevaArtesania:{name:"",address:"",image:"",phone:"",description:"",customer_id:""}}},mounted(){this.fetchArtesanias()},methods:{async fetchArtesanias(){let a=localStorage.getItem("customerId");try{const e=await fa.Z.get("http://localhost:3000/app/Artesania");let r=e.data.filter((e=>e._id===a));this.artesanias=r||[]}catch(e){console.error("Error fetching artesanias:",e)}},async eliminarArtesania(a){try{await fa.Z.delete(`http://localhost:3000/app/Artesania/${a}`),this.fetchArtesanias()}catch(e){console.error("Error deleting artesania:",e)}},abrirModalActualizar(a){this.artesaniaActualizada={...a};const e=this.$refs.modalActualizar;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearArtesania(){try{var a=new FormData;if(this.nuevaArtesania.customer_id=localStorage.getItem("customerId"),""!=this.nuevaArtesania.customer_id){a.append("image",this.file),a.append("name",this.nuevaArtesania.name),a.append("address",this.nuevaArtesania.address),a.append("phone",this.nuevaArtesania.phone),a.append("description",this.nuevaArtesania.description),a.append("customer_id",this.nuevaArtesania.customer_id);const e=await fa.Z.post("http://localhost:3000/app/Artesania",a);console.log(e),this.nuevaArtesania={name:"",address:"",image:"",phone:"",description:"",customer_id:""},this.cerrarModalCrear(),this.fetchArtesanias()}else alert("No tienes permisos para crear una artesanía")}catch(e){console.error("Error creating Artesania:",e)}},async actualizarArtesania(){try{const a=await fa.Z.put(`http://localhost:3000/app/Artesania/${this.artesaniaActualizada._id}`,this.artesaniaActualizada);console.log(a),this.fetchArtesanias(),this.cerrarModalActualizar()}catch(a){console.error("Error updating Artesania:",a)}}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}},Aa=r(89);const ga=(0,Aa.Z)(ba,[["render",_a],["__scopeId","data-v-5b29a974"]]);var va=ga},9286:function(a,e,r){r.r(e),r.d(e,{default:function(){return ba}});var t=r(3396),i=r(9242),l=r(7139);const o=a=>((0,t.dD)("data-v-7861a5c8"),a=a(),(0,t.Cn)(),a),s={id:"app"},c=o((()=>(0,t._)("nav",{class:"main-menu"},[(0,t._)("strong",null,"PANEL DE ADMINISTRACION"),(0,t._)("ul")],-1))),n={class:"content"},d={class:"left-content"},u={class:"card"},p={class:"card-body"},m=o((()=>(0,t._)("br",null,null,-1))),h=o((()=>(0,t._)("br",null,null,-1))),_=o((()=>(0,t._)("h5",{class:"card-title"},"Creación de Bar",-1))),f=o((()=>(0,t._)("p",{class:"card-text"},"En este espacio creamos nuevos bares para COSTA BRISA",-1))),b=(0,t.uE)('<div class="card" data-v-7861a5c8><div class="card-body" data-v-7861a5c8><br data-v-7861a5c8><br data-v-7861a5c8><h5 class="card-title" data-v-7861a5c8>¡Crea tu Galeria!</h5><p class="card-text" data-v-7861a5c8>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-7861a5c8>Crear Galería</button></div></div>',1),A={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},g={class:"modal-dialog modal-dialog-centered",role:"document"},v={class:"modal-content"},z={class:"modal-header"},y=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Bar",-1))),C=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),w=[C],R={class:"modal-body"},B={class:"form-group"},M=o((()=>(0,t._)("label",{for:"nombreBar"},"Nombre:",-1))),x={class:"form-group"},I=o((()=>(0,t._)("label",{for:"direccionBar"},"Dirección:",-1))),D={class:"form-group"},k=o((()=>(0,t._)("label",{for:"imagenBar"},"Imagen:",-1))),E={class:"form-group"},L=o((()=>(0,t._)("label",{for:"telefonoBar"},"Teléfono:",-1))),S=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Crear Bar",-1))),T={class:"right-content"},U=o((()=>(0,t._)("strong",null,"BARES ACTUALES",-1))),q={class:"row"},F={class:"card"},V=["src"],$={class:"card-body"},Z={class:"card-title"},N={class:"card-text"},j={class:"card-text"},G={class:"card-text"},H=["onClick"],O=["onClick"],J={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},K={class:"modal-dialog modal-dialog-centered",role:"document"},P={class:"modal-content"},Y={class:"modal-header"},W=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Bar",-1))),Q=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),X=[Q],aa={class:"modal-body"},ea={class:"form-group"},ra=o((()=>(0,t._)("label",{for:"nombreBarActualizar"},"Nombre:",-1))),ta={class:"form-group"},ia=o((()=>(0,t._)("label",{for:"direccionBarActualizar"},"Dirección:",-1))),la={class:"form-group"},oa=o((()=>(0,t._)("label",{for:"imagenBarActualizar"},"Imagen:",-1))),sa={class:"form-group"},ca=o((()=>(0,t._)("label",{for:"telefonoBarActualizar"},"Teléfono:",-1))),na=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1))),da={class:"modal-footer"},ua={key:0,class:"text-success"};function pa(a,e,r,o,C,Q){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("main",null,[c,(0,t._)("section",n,[(0,t._)("div",d,[(0,t._)("div",u,[(0,t._)("div",p,[m,h,_,f,(0,t._)("button",{class:"btn btn-success mb-4",onClick:e[0]||(e[0]=(...a)=>Q.abrirModalCrear&&Q.abrirModalCrear(...a))},"Crear")])]),b,(0,t._)("div",A,[(0,t._)("div",g,[(0,t._)("div",v,[(0,t._)("div",z,[y,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=(...a)=>Q.cerrarModalCrear&&Q.cerrarModalCrear(...a))},w)]),(0,t._)("div",R,[(0,t._)("form",{onSubmit:e[6]||(e[6]=(0,i.iM)(((...a)=>Q.crearBar&&Q.crearBar(...a)),["prevent"]))},[(0,t._)("div",B,[M,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>C.nuevoBar.name=a),class:"form-control",id:"nombreBar",required:""},null,512),[[i.nr,C.nuevoBar.name]])]),(0,t._)("div",x,[I,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>C.nuevoBar.address=a),class:"form-control",id:"direccionBar",required:""},null,512),[[i.nr,C.nuevoBar.address]])]),(0,t._)("div",D,[k,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[4]||(e[4]=(...a)=>Q.uploadFile&&Q.uploadFile(...a)),id:"imagenBar",ref:"fileCrear",type:"file"},null,544)]),(0,t._)("div",E,[L,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>C.nuevoBar.phone=a),class:"form-control",id:"telefonoBar",required:""},null,512),[[i.nr,C.nuevoBar.phone]])]),S],32)])])])],512)]),(0,t._)("div",T,[U,(0,t._)("div",q,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(C.bares,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,t._)("div",F,[(0,t._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Bar Image"},null,8,V),(0,t._)("div",$,[(0,t._)("h5",Z,(0,l.zw)(a.name),1),(0,t._)("p",N,"Dirección: "+(0,l.zw)(a.address),1),(0,t._)("p",j,"Descripción: "+(0,l.zw)(a.description),1),(0,t._)("p",G,"Teléfono: "+(0,l.zw)(a.phone),1),(0,t._)("button",{class:"btn btn-danger",onClick:e=>Q.eliminarBar(a._id)},"Eliminar",8,H),(0,t._)("button",{class:"btn btn-primary",onClick:e=>Q.abrirModalActualizar(a)},"Actualizar",8,O)])])])))),128))])]),(0,t._)("div",J,[(0,t._)("div",K,[(0,t._)("div",P,[(0,t._)("div",Y,[W,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[7]||(e[7]=(...a)=>Q.cerrarModalActualizar&&Q.cerrarModalActualizar(...a))},X)]),(0,t._)("div",aa,[(0,t._)("form",{onSubmit:e[12]||(e[12]=(0,i.iM)(((...a)=>Q.actualizarBar&&Q.actualizarBar(...a)),["prevent"]))},[(0,t._)("div",ea,[ra,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>C.barActualizado.name=a),class:"form-control",id:"nombreBarActualizar",required:""},null,512),[[i.nr,C.barActualizado.name]])]),(0,t._)("div",ta,[ia,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>C.barActualizado.address=a),class:"form-control",id:"direccionBarActualizar",required:""},null,512),[[i.nr,C.barActualizado.address]])]),(0,t._)("div",la,[oa,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[10]||(e[10]=(...a)=>Q.uploadFileActualizar&&Q.uploadFileActualizar(...a)),id:"imagenBarActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,t._)("div",sa,[ca,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=a=>C.barActualizado.phone=a),class:"form-control",id:"telefonoBarActualizar",required:""},null,512),[[i.nr,C.barActualizado.phone]])]),na],32)]),(0,t._)("div",da,[a.successMessage?((0,t.wg)(),(0,t.iD)("p",ua,(0,l.zw)(a.successMessage),1)):(0,t.kq)("",!0)])])])],512)])])])}var ma=r(1076),ha={data(){return{bares:[],barActualizado:{_id:null,name:"",address:"",image:"",phone:"",description:"",customer_id:""},file:null,fileActualizar:null,nuevoBar:{name:"",address:"",image:"",phone:"",description:"",customer_id:""}}},mounted(){this.fetchBares(),this.nuevoBar.customer_id=localStorage.getItem("customerId")},methods:{async fetchBares(){let a=localStorage.getItem("customerId");try{const e=await ma.Z.get("http://localhost:3000/app/Bar");let r=e.data.filter((e=>e._id===a));this.bares=r||[]}catch(e){console.error("Error fetching bares:",e)}},async eliminarBar(a){try{await ma.Z.delete(`http://localhost:3000/app/Bar/${a}`),this.fetchBares()}catch(e){console.error("Error deleting bar:",e)}},abrirModalActualizar(a){this.barActualizado={...a};const e=this.$refs.modalActualizar;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearBar(){try{const a=new FormData;a.append("name",this.nuevoBar.name),a.append("address",this.nuevoBar.address),a.append("phone",this.nuevoBar.phone),a.append("description",this.nuevoBar.description),a.append("customer_id",this.nuevoBar.customer_id),a.append("image",this.file);const e=await ma.Z.post("http://localhost:3000/app/Bar",a);console.log(e),this.nuevoBar={name:"",address:"",image:"",phone:"",description:"",customer_id:""},this.file=null,this.cerrarModalCrear(),this.fetchBares()}catch(a){console.error("Error creating Bar:",a)}},async actualizarBar(){if(this.fileActualizar){const e=new FormData;e.append("name",this.barActualizado.name),e.append("address",this.barActualizado.address),e.append("phone",this.barActualizado.phone),e.append("description",this.barActualizado.description),e.append("customer_id",this.barActualizado.customer_id),e.append("imagen",this.fileActualizar),e.append("image","");try{const a=await ma.Z.put(`http://localhost:3000/app/Bar/${this.barActualizado._id}`,e);console.log(a),this.fetchBares(),this.cerrarModalActualizar(),this.fileActualizar=null}catch(a){console.error("Error updating Bar:",a)}}else try{const a=await ma.Z.put(`http://localhost:3000/app/Bar/${this.barActualizado._id}`,this.barActualizado);console.log(a),this.fetchBares(),this.cerrarModalActualizar()}catch(a){console.error("Error updating Bar:",a)}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}}},_a=r(89);const fa=(0,_a.Z)(ha,[["render",pa],["__scopeId","data-v-7861a5c8"]]);var ba=fa},4518:function(a,e,r){r.r(e),r.d(e,{default:function(){return ba}});var t=r(3396),i=r(9242),l=r(7139);const o=a=>((0,t.dD)("data-v-0e167a9f"),a=a(),(0,t.Cn)(),a),s={id:"app"},c=o((()=>(0,t._)("nav",{class:"main-menu"},[(0,t._)("strong",null,"PANEL DE ADMINISTRACION"),(0,t._)("ul")],-1))),n={class:"content"},d={class:"left-content"},u={class:"card"},p={class:"card-body"},m=o((()=>(0,t._)("br",null,null,-1))),h=o((()=>(0,t._)("br",null,null,-1))),_=o((()=>(0,t._)("h5",{class:"card-title"},"Creación de Recreación",-1))),f=o((()=>(0,t._)("p",{class:"card-text"},"En este espacio creamos nuevas áreas de recreación para COSTA BRISA",-1))),b=(0,t.uE)('<div class="card" data-v-0e167a9f><div class="card-body" data-v-0e167a9f><br data-v-0e167a9f><br data-v-0e167a9f><h5 class="card-title" data-v-0e167a9f>¡Crea tu Galeria!</h5><p class="card-text" data-v-0e167a9f>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-0e167a9f>Crear Galería</button></div></div>',1),A={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},g={class:"modal-dialog modal-dialog-centered",role:"document"},v={class:"modal-content"},z={class:"modal-header"},y=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Recreación",-1))),C=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),w=[C],R={class:"modal-body"},B={class:"form-group"},M=o((()=>(0,t._)("label",{for:"nombreRecreacion"},"Nombre:",-1))),x={class:"form-group"},I=o((()=>(0,t._)("label",{for:"direccionRecreacion"},"Dirección:",-1))),D={class:"form-group"},k=o((()=>(0,t._)("label",{for:"imagenRecreacion"},"Imagen:",-1))),E={class:"form-group"},L=o((()=>(0,t._)("label",{for:"telefonoRecreacion"},"Teléfono:",-1))),S=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Crear Recreación",-1))),T={class:"right-content"},U=o((()=>(0,t._)("strong",null,"ÁREAS DE RECREACIÓN ACTUALES",-1))),q={class:"row"},F={class:"card"},V=["src"],$={class:"card-body"},Z={class:"card-title"},N={class:"card-text"},j={class:"card-text"},G={class:"card-text"},H=["onClick"],O=["onClick"],J={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},K={class:"modal-dialog modal-dialog-centered",role:"document"},P={class:"modal-content"},Y={class:"modal-header"},W=o((()=>(0,t._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Área de Recreación",-1))),Q=o((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),X=[Q],aa={class:"modal-body"},ea={class:"form-group"},ra=o((()=>(0,t._)("label",{for:"nombreRecreacionActualizar"},"Nombre:",-1))),ta={class:"form-group"},ia=o((()=>(0,t._)("label",{for:"direccionRecreacionActualizar"},"Dirección:",-1))),la={class:"form-group"},oa=o((()=>(0,t._)("label",{for:"imagenRecreacionActualizar"},"Imagen:",-1))),sa={class:"form-group"},ca=o((()=>(0,t._)("label",{for:"telefonoRecreacionActualizar"},"Teléfono:",-1))),na=o((()=>(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1))),da={class:"modal-footer"},ua={key:0,class:"text-success"};function pa(a,e,r,o,C,Q){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("main",null,[c,(0,t._)("section",n,[(0,t._)("div",d,[(0,t._)("div",u,[(0,t._)("div",p,[m,h,_,f,(0,t._)("button",{class:"btn btn-success mb-4",onClick:e[0]||(e[0]=(...a)=>Q.abrirModalCrear&&Q.abrirModalCrear(...a))},"Crear")])]),b,(0,t._)("div",A,[(0,t._)("div",g,[(0,t._)("div",v,[(0,t._)("div",z,[y,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=(...a)=>Q.cerrarModalCrear&&Q.cerrarModalCrear(...a))},w)]),(0,t._)("div",R,[(0,t._)("form",{onSubmit:e[6]||(e[6]=(0,i.iM)(((...a)=>Q.crearRecreacion&&Q.crearRecreacion(...a)),["prevent"]))},[(0,t._)("div",B,[M,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>C.nuevaRecreacion.name=a),class:"form-control",id:"nombreRecreacion",required:""},null,512),[[i.nr,C.nuevaRecreacion.name]])]),(0,t._)("div",x,[I,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>C.nuevaRecreacion.address=a),class:"form-control",id:"direccionRecreacion",required:""},null,512),[[i.nr,C.nuevaRecreacion.address]])]),(0,t._)("div",D,[k,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[4]||(e[4]=(...e)=>a.uploadFile&&a.uploadFile(...e)),id:"imagenRecreacion",ref:"fileCrear",type:"file"},null,544)]),(0,t._)("div",E,[L,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>C.nuevaRecreacion.phone=a),class:"form-control",id:"telefonoRecreacion",required:""},null,512),[[i.nr,C.nuevaRecreacion.phone]])]),S],32)])])])],512)]),(0,t._)("div",T,[U,(0,t._)("div",q,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(C.recreaciones,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,t._)("div",F,[(0,t._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Recreación Image"},null,8,V),(0,t._)("div",$,[(0,t._)("h5",Z,(0,l.zw)(a.name),1),(0,t._)("p",N,"Dirección: "+(0,l.zw)(a.address),1),(0,t._)("p",j,"Descripción: "+(0,l.zw)(a.description),1),(0,t._)("p",G,"Teléfono: "+(0,l.zw)(a.phone),1),(0,t._)("button",{class:"btn btn-danger",onClick:e=>Q.eliminarRecreacion(a._id)},"Eliminar",8,H),(0,t._)("button",{class:"btn btn-primary",onClick:e=>Q.abrirModalActualizar(a)},"Actualizar",8,O)])])])))),128))])]),(0,t._)("div",J,[(0,t._)("div",K,[(0,t._)("div",P,[(0,t._)("div",Y,[W,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[7]||(e[7]=(...a)=>Q.cerrarModalActualizar&&Q.cerrarModalActualizar(...a))},X)]),(0,t._)("div",aa,[(0,t._)("form",{onSubmit:e[12]||(e[12]=(0,i.iM)(((...a)=>Q.actualizarRecreacion&&Q.actualizarRecreacion(...a)),["prevent"]))},[(0,t._)("div",ea,[ra,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>C.recreacionActualizada.name=a),class:"form-control",id:"nombreRecreacionActualizar",required:""},null,512),[[i.nr,C.recreacionActualizada.name]])]),(0,t._)("div",ta,[ia,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>C.recreacionActualizada.address=a),class:"form-control",id:"direccionRecreacionActualizar",required:""},null,512),[[i.nr,C.recreacionActualizada.address]])]),(0,t._)("div",la,[oa,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[10]||(e[10]=(...e)=>a.uploadFileActualizar&&a.uploadFileActualizar(...e)),id:"imagenRecreacionActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,t._)("div",sa,[ca,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=a=>C.recreacionActualizada.phone=a),class:"form-control",id:"telefonoRecreacionActualizar",required:""},null,512),[[i.nr,C.recreacionActualizada.phone]])]),na],32)]),(0,t._)("div",da,[a.successMessage?((0,t.wg)(),(0,t.iD)("p",ua,(0,l.zw)(a.successMessage),1)):(0,t.kq)("",!0)])])])],512)])])])}var ma=r(1076),ha={data(){return{recreaciones:[],recreacionActualizada:{_id:null,nombre:"",services:"",image:"",phone:"",price:"",status:""},file:null,filea:null,nuevaRecreacion:{nombre:"",services:"",image:"",phone:"",price:"",status:"",customer_id:""}}},mounted(){this.fetchRecreaciones()},methods:{async fetchRecreaciones(){let a=localStorage.getItem("customerId");try{const e=await ma.Z.get("http://localhost:3000/app/Recreacion");let r=e.data.filter((e=>e._id===a));this.recreaciones=r||[]}catch(e){console.error("Error fetching recreaciones:",e)}},async eliminarRecreacion(a){try{await ma.Z.delete(`http://localhost:3000/app/Recreacion/${a}`),this.fetchRecreaciones()}catch(e){console.error("Error deleting recreacion:",e)}},abrirModalActualizar(a){this.recreacionActualizada={...a};const e=this.$refs.modalActualizar;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearRecreacion(){let a=localStorage.getItem("customerId");try{if(a){this.nuevaRecreacion.customer_id=a;var e=new FormData;e.append("image",this.file),e.append("name",this.nuevaRecreacion.name),e.append("address",this.nuevaRecreacion.address),e.append("services",this.nuevaRecreacion.services),e.append("price",this.nuevaRecreacion.price),e.append("customer_id",this.nuevaRecreacion.customer_id);const r=await ma.Z.post("http://localhost:3000/app/Recreacion",e);console.log(r),this.nuevaRecreacion={nombre:"",services:"",imagen:"",phone:"",price:"",status:"",customer_id:""},this.cerrarModalCrear(),this.fetchRecreaciones()}}catch(r){console.error("Error creating Recreacion:",r)}},async actualizarRecreacion(){if(this.filea){var a=new FormData;a.append("imagen",this.filea),a.append("image",""),a.append("name",this.recreacionActualizada.name),a.append("address",this.recreacionActualizada.address),a.append("services",this.recreacionActualizada.services),a.append("price",this.recreacionActualizada.price),a.append("customer_id",this.recreacionActualizada.customer_id);try{const e=await ma.Z.put(`http://localhost:3000/app/Recreacion/${this.recreacionActualizada._id}`,a);console.log(e),this.fetchRecreaciones(),this.cerrarModalActualizar(),this.filea=null}catch(e){console.error("Error updating Recreacion:",e)}}else try{const a=await ma.Z.put(`http://localhost:3000/app/Recreacion/${this.recreacionActualizada._id}`,this.recreacionActualizada);console.log(a),this.fetchRecreaciones(),this.cerrarModalActualizar()}catch(e){console.error("Error updating Recreacion:",e)}}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}},_a=r(89);const fa=(0,_a.Z)(ha,[["render",pa],["__scopeId","data-v-0e167a9f"]]);var ba=fa}}]);
//# sourceMappingURL=49.04875cd6.js.map
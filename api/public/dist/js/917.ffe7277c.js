"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[917],{2917:function(e,a,l){l.r(a),l.d(a,{default:function(){return Ce}});var o=l(3396),t=l(9242),r=l(7139);const i=e=>((0,o.dD)("data-v-5e3cd64a"),e=e(),(0,o.Cn)(),e),c={id:"app"},s=i((()=>(0,o._)("nav",{class:"main-menu"},[(0,o._)("strong",null,"PANEL DE ADMINISTRACION"),(0,o._)("ul")],-1))),d={class:"content"},n={class:"left-content"},u={class:"card"},p={class:"card-body"},m=i((()=>(0,o._)("br",null,null,-1))),h=i((()=>(0,o._)("br",null,null,-1))),_=i((()=>(0,o._)("h5",{class:"card-title"},"Creación de Hotel",-1))),f=i((()=>(0,o._)("p",{class:"card-text"},"En este espacio creamos nuevos hoteles para COSTA BRISA",-1))),b=(0,o.uE)('<div class="card" data-v-5e3cd64a><div class="card-body" data-v-5e3cd64a><br data-v-5e3cd64a><br data-v-5e3cd64a><h5 class="card-title" data-v-5e3cd64a>¡Crea tu Galeria!</h5><p class="card-text" data-v-5e3cd64a>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-5e3cd64a>Crear Galería</button></div></div>',1),g={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},v={class:"modal-dialog modal-dialog-centered",role:"document"},H={class:"modal-content"},z={class:"modal-header"},A=i((()=>(0,o._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Hotel",-1))),y=i((()=>(0,o._)("span",{"aria-hidden":"true"},"×",-1))),w=[y],C={class:"modal-body"},x={class:"form-group col-md-6"},M=i((()=>(0,o._)("label",{for:"nombreHotel"},"Nombre:",-1))),k={class:"form-group col-md-6"},D=i((()=>(0,o._)("label",{for:"descriptionHotel"},"Descripcion:",-1))),E={class:"form-group col-md-6"},I=i((()=>(0,o._)("label",{for:"direccionHotel"},"Dirección:",-1))),q={class:"form-group col-md-6"},L=i((()=>(0,o._)("label",{for:"imagenHotel"},"Imagen:",-1))),U={class:"form-group col-md-6"},V=i((()=>(0,o._)("label",{for:"telefonoHotel"},"Teléfono:",-1))),F={class:"form-group col-md-6"},S=i((()=>(0,o._)("label",{for:"precioHotel"},"Precio:",-1))),T=i((()=>(0,o._)("div",{class:"form-group col-md-12"},[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Crear Hotel")],-1))),$={class:"right-content"},Z=i((()=>(0,o._)("strong",null,"HOTEL ACTUAL",-1))),N={class:"row"},j={class:"card"},G=["src"],O={class:"card-body"},P={class:"card-title"},R={class:"card-text"},B={class:"card-text"},K={class:"card-text"},Y=["onClick"],J=["onClick"],Q={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},W={class:"modal-dialog modal-dialog-centered",role:"document"},X={class:"modal-content"},ee={class:"modal-header"},ae=i((()=>(0,o._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Hotel",-1))),le=i((()=>(0,o._)("span",{"aria-hidden":"true"},"×",-1))),oe=[le],te={class:"modal-body"},re={class:"form-group col-md-6"},ie=i((()=>(0,o._)("label",{for:"nombreHotelActualizar"},"Nombre:",-1))),ce={class:"form-group col-md-6"},se=i((()=>(0,o._)("label",{for:"descriptionHotelActualizar"},"Descripción:",-1))),de={class:"form-group col-md-6"},ne=i((()=>(0,o._)("label",{for:"direccionHotelActualizar"},"Dirección:",-1))),ue={class:"form-group col-md-6"},pe=i((()=>(0,o._)("label",{for:"imagenHotelActualizar"},"Imagen:",-1))),me={class:"form-group col-md-6"},he=i((()=>(0,o._)("label",{for:"telefonoHotelActualizar"},"Teléfono:",-1))),_e={class:"form-group col-md-6"},fe=i((()=>(0,o._)("label",{for:"precioHotelActualizar"},"Precio:",-1))),be=i((()=>(0,o._)("div",{class:"form-group col-md-12"},[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios")],-1))),ge={class:"modal-footer"},ve={key:0,class:"text-success"};function He(e,a,l,i,y,le){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("main",null,[s,(0,o._)("section",d,[(0,o._)("div",n,[(0,o._)("div",u,[(0,o._)("div",p,[m,h,_,f,(0,o._)("button",{class:"btn btn-success mb-4",onClick:a[0]||(a[0]=(...e)=>le.abrirModalCrear&&le.abrirModalCrear(...e))},"Crear")])]),b,(0,o._)("div",g,[(0,o._)("div",v,[(0,o._)("div",H,[(0,o._)("div",z,[A,(0,o._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[1]||(a[1]=(...e)=>le.cerrarModalCrear&&le.cerrarModalCrear(...e))},w)]),(0,o._)("div",C,[(0,o._)("form",{onSubmit:a[8]||(a[8]=(0,t.iM)(((...e)=>le.crearHotel&&le.crearHotel(...e)),["prevent"])),class:"row"},[(0,o._)("div",x,[M,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>y.nuevoHotel.name=e),class:"form-control",id:"nombreHotel",required:""},null,512),[[t.nr,y.nuevoHotel.name]])]),(0,o._)("div",k,[D,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>y.nuevoHotel.description=e),class:"form-control",id:"descriptionHotel",required:""},null,512),[[t.nr,y.nuevoHotel.description]])]),(0,o._)("div",E,[I,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>y.nuevoHotel.address=e),class:"form-control",id:"direccionHotel",required:""},null,512),[[t.nr,y.nuevoHotel.address]])]),(0,o._)("div",q,[L,(0,o._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:a[5]||(a[5]=(...e)=>le.uploadFile&&le.uploadFile(...e)),id:"imagenHotel",ref:"fileCrear",type:"file"},null,544)]),(0,o._)("div",U,[V,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>y.nuevoHotel.phone=e),class:"form-control",id:"telefonoHotel",required:""},null,512),[[t.nr,y.nuevoHotel.phone]])]),(0,o._)("div",F,[S,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>y.nuevoHotel.price=e),class:"form-control",id:"precioHotel",required:""},null,512),[[t.nr,y.nuevoHotel.price]])]),T],32)])])])],512)]),(0,o._)("div",$,[Z,(0,o._)("div",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.hoteles,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e._id,class:"col-md-12 mb-6"},[(0,o._)("div",j,[(0,o._)("img",{src:e.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Hotel Image"},null,8,G),(0,o._)("div",O,[(0,o._)("h5",P,(0,r.zw)(e.name),1),(0,o._)("p",R,"Dirección: "+(0,r.zw)(e.address),1),(0,o._)("p",B,"Descripción: "+(0,r.zw)(e.description),1),(0,o._)("p",null,(0,r.zw)(e.price),1),(0,o._)("p",K,"Teléfono: "+(0,r.zw)(e.phone),1),(0,o._)("button",{class:"btn btn-danger",onClick:a=>le.eliminarHotel(e._id)},"Eliminar",8,Y),(0,o._)("button",{class:"btn btn-primary",onClick:a=>le.abrirModalActualizar(e)},"Actualizar",8,J)])])])))),128))])]),(0,o._)("div",Q,[(0,o._)("div",W,[(0,o._)("div",X,[(0,o._)("div",ee,[ae,(0,o._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[9]||(a[9]=(...e)=>le.cerrarModalActualizar&&le.cerrarModalActualizar(...e))},oe)]),(0,o._)("div",te,[(0,o._)("form",{onSubmit:a[16]||(a[16]=(0,t.iM)(((...e)=>le.actualizarHotel&&le.actualizarHotel(...e)),["prevent"])),class:"row"},[(0,o._)("div",re,[ie,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>y.hotelActualizado.name=e),class:"form-control",id:"nombreHotelActualizar",required:""},null,512),[[t.nr,y.hotelActualizado.name]])]),(0,o._)("div",ce,[se,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>y.hotelActualizado.description=e),class:"form-control",id:"descriptionHotelActualizar",required:""},null,512),[[t.nr,y.hotelActualizado.description]])]),(0,o._)("div",de,[ne,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>y.hotelActualizado.address=e),class:"form-control",id:"direccionHotelActualizar",required:""},null,512),[[t.nr,y.hotelActualizado.address]])]),(0,o._)("div",ue,[pe,(0,o._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:a[13]||(a[13]=(...e)=>le.uploadFileActualizar&&le.uploadFileActualizar(...e)),id:"imagenHotelActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,o._)("div",me,[he,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=e=>y.hotelActualizado.phone=e),class:"form-control",id:"telefonoHotelActualizar",required:""},null,512),[[t.nr,y.hotelActualizado.phone]])]),(0,o._)("div",_e,[fe,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[15]||(a[15]=e=>y.hotelActualizado.price=e),class:"form-control",id:"precioHotelActualizar",required:""},null,512),[[t.nr,y.hotelActualizado.price]])]),be],32)]),(0,o._)("div",ge,[e.successMessage?((0,o.wg)(),(0,o.iD)("p",ve,(0,r.zw)(e.successMessage),1)):(0,o.kq)("",!0)])])])],512)])])])}var ze=l(1076),Ae={data(){return{hoteles:[],hotelActualizado:{_id:null,name:"",description:"",address:"",image:"",phone:"",price:""},file:null,fileActualizar:null,nuevoHotel:{name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""}}},async mounted(){await this.fetchHoteles()},methods:{async fetchHoteles(){let e=localStorage.getItem("customerId");try{const a=await ze.Z.get("http://localhost:3000/app/Hotel");!a.data||(this.hoteles=a.data.filter((a=>a.customer_id===e)))}catch(a){console.error("Error fetching hoteles:",a)}},async eliminarHotel(e){try{await ze.Z.delete(`http://localhost:3000/app/Hotel/${e}`),this.fetchHoteles()}catch(a){console.error("Error deleting hotel:",a)}},abrirModalActualizar(e){this.hotelActualizado={...e};const a=this.$refs.modalActualizar;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalActualizar(){const e=this.$refs.modalActualizar;e&&(e.classList.remove("show"),e.style.display="none")},abrirModalCrear(){const e=this.$refs.modalCrear;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalCrear(){const e=this.$refs.modalCrear;e&&(e.classList.remove("show"),e.style.display="none")},async crearHotel(){let e=localStorage.getItem("customerId");try{if(e){this.nuevoHotel.customer_id=e;const a=new FormData;a.append("image",this.file),a.append("name",this.nuevoHotel.name),a.append("description",this.nuevoHotel.description),a.append("address",this.nuevoHotel.address),a.append("phone",this.nuevoHotel.phone),a.append("price",this.nuevoHotel.price),a.append("customer_id",this.nuevoHotel.customer_id);const l=await ze.Z.post("http://localhost:3000/app/Hotel",a);console.log(l),this.nuevoHotel={name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""},this.cerrarModalCrear(),this.fetchHoteles()}}catch(a){console.error("Error creating Hotel:",a)}},async actualizarHotel(){if(this.fileActualizar){const a=new FormData;a.append("name",this.hotelActualizado.name),a.append("description",this.hotelActualizado.description),a.append("address",this.hotelActualizado.address),a.append("phone",this.hotelActualizado.phone),a.append("price",this.hotelActualizado.price),a.append("customer_id",this.hotelActualizado.customer_id),a.append("imagen",this.fileActualizar),a.append("image","");try{const e=await ze.Z.put(`http://localhost:3000/app/Hotel/${this.hotelActualizado._id}`,a);console.log(e),this.fetchHoteles(),this.cerrarModalActualizar(),this.fileActualizar=null}catch(e){console.error("Error updating Hotel:",e),console.log(this.actualizarHotel)}}else try{const e=await ze.Z.put(`http://localhost:3000/app/Hotel/${this.hotelActualizado._id}`,this.hotelActualizado);console.log(e),this.fetchHoteles(),this.cerrarModalActualizar()}catch(e){console.error("Error updating Hotel:",e)}},uploadFile(e){this.file=e.target.files[0]},uploadFileActualizar(e){this.fileActualizar=e.target.files[0]}}},ye=l(89);const we=(0,ye.Z)(Ae,[["render",He],["__scopeId","data-v-5e3cd64a"]]);var Ce=we}}]);
//# sourceMappingURL=917.ffe7277c.js.map
"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[518],{4518:function(a,e,r){r.r(e),r.d(e,{default:function(){return ba}});var c=r(3396),i=r(9242),o=r(7139);const l=a=>((0,c.dD)("data-v-0e167a9f"),a=a(),(0,c.Cn)(),a),t={id:"app"},n=l((()=>(0,c._)("nav",{class:"main-menu"},[(0,c._)("strong",null,"PANEL DE ADMINISTRACION"),(0,c._)("ul")],-1))),s={class:"content"},d={class:"left-content"},u={class:"card"},p={class:"card-body"},m=l((()=>(0,c._)("br",null,null,-1))),h=l((()=>(0,c._)("br",null,null,-1))),f=l((()=>(0,c._)("h5",{class:"card-title"},"Creación de Recreación",-1))),_=l((()=>(0,c._)("p",{class:"card-text"},"En este espacio creamos nuevas áreas de recreación para COSTA BRISA",-1))),b=(0,c.uE)('<div class="card" data-v-0e167a9f><div class="card-body" data-v-0e167a9f><br data-v-0e167a9f><br data-v-0e167a9f><h5 class="card-title" data-v-0e167a9f>¡Crea tu Galeria!</h5><p class="card-text" data-v-0e167a9f>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-0e167a9f>Crear Galería</button></div></div>',1),v={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},g={class:"modal-dialog modal-dialog-centered",role:"document"},R={class:"modal-content"},A={class:"modal-header"},z=l((()=>(0,c._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Recreación",-1))),y=l((()=>(0,c._)("span",{"aria-hidden":"true"},"×",-1))),C=[y],w={class:"modal-body"},M={class:"form-group"},k=l((()=>(0,c._)("label",{for:"nombreRecreacion"},"Nombre:",-1))),E={class:"form-group"},x=l((()=>(0,c._)("label",{for:"direccionRecreacion"},"Dirección:",-1))),D={class:"form-group"},I=l((()=>(0,c._)("label",{for:"imagenRecreacion"},"Imagen:",-1))),L={class:"form-group"},S=l((()=>(0,c._)("label",{for:"telefonoRecreacion"},"Teléfono:",-1))),F=l((()=>(0,c._)("button",{type:"submit",class:"btn btn-primary"},"Crear Recreación",-1))),q={class:"right-content"},U=l((()=>(0,c._)("strong",null,"ÁREAS DE RECREACIÓN ACTUALES",-1))),$={class:"row"},N={class:"card"},T=["src"],V={class:"card-body"},Z={class:"card-title"},j={class:"card-text"},G={class:"card-text"},O={class:"card-text"},B=["onClick"],H=["onClick"],K={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},P={class:"modal-dialog modal-dialog-centered",role:"document"},Y={class:"modal-content"},J={class:"modal-header"},Q=l((()=>(0,c._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Área de Recreación",-1))),W=l((()=>(0,c._)("span",{"aria-hidden":"true"},"×",-1))),X=[W],aa={class:"modal-body"},ea={class:"form-group"},ra=l((()=>(0,c._)("label",{for:"nombreRecreacionActualizar"},"Nombre:",-1))),ca={class:"form-group"},ia=l((()=>(0,c._)("label",{for:"direccionRecreacionActualizar"},"Dirección:",-1))),oa={class:"form-group"},la=l((()=>(0,c._)("label",{for:"imagenRecreacionActualizar"},"Imagen:",-1))),ta={class:"form-group"},na=l((()=>(0,c._)("label",{for:"telefonoRecreacionActualizar"},"Teléfono:",-1))),sa=l((()=>(0,c._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1))),da={class:"modal-footer"},ua={key:0,class:"text-success"};function pa(a,e,r,l,y,W){return(0,c.wg)(),(0,c.iD)("div",t,[(0,c._)("main",null,[n,(0,c._)("section",s,[(0,c._)("div",d,[(0,c._)("div",u,[(0,c._)("div",p,[m,h,f,_,(0,c._)("button",{class:"btn btn-success mb-4",onClick:e[0]||(e[0]=(...a)=>W.abrirModalCrear&&W.abrirModalCrear(...a))},"Crear")])]),b,(0,c._)("div",v,[(0,c._)("div",g,[(0,c._)("div",R,[(0,c._)("div",A,[z,(0,c._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=(...a)=>W.cerrarModalCrear&&W.cerrarModalCrear(...a))},C)]),(0,c._)("div",w,[(0,c._)("form",{onSubmit:e[6]||(e[6]=(0,i.iM)(((...a)=>W.crearRecreacion&&W.crearRecreacion(...a)),["prevent"]))},[(0,c._)("div",M,[k,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>y.nuevaRecreacion.name=a),class:"form-control",id:"nombreRecreacion",required:""},null,512),[[i.nr,y.nuevaRecreacion.name]])]),(0,c._)("div",E,[x,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>y.nuevaRecreacion.address=a),class:"form-control",id:"direccionRecreacion",required:""},null,512),[[i.nr,y.nuevaRecreacion.address]])]),(0,c._)("div",D,[I,(0,c._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[4]||(e[4]=(...e)=>a.uploadFile&&a.uploadFile(...e)),id:"imagenRecreacion",ref:"fileCrear",type:"file"},null,544)]),(0,c._)("div",L,[S,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>y.nuevaRecreacion.phone=a),class:"form-control",id:"telefonoRecreacion",required:""},null,512),[[i.nr,y.nuevaRecreacion.phone]])]),F],32)])])])],512)]),(0,c._)("div",q,[U,(0,c._)("div",$,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(y.recreaciones,(a=>((0,c.wg)(),(0,c.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,c._)("div",N,[(0,c._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Recreación Image"},null,8,T),(0,c._)("div",V,[(0,c._)("h5",Z,(0,o.zw)(a.name),1),(0,c._)("p",j,"Dirección: "+(0,o.zw)(a.address),1),(0,c._)("p",G,"Descripción: "+(0,o.zw)(a.description),1),(0,c._)("p",O,"Teléfono: "+(0,o.zw)(a.phone),1),(0,c._)("button",{class:"btn btn-danger",onClick:e=>W.eliminarRecreacion(a._id)},"Eliminar",8,B),(0,c._)("button",{class:"btn btn-primary",onClick:e=>W.abrirModalActualizar(a)},"Actualizar",8,H)])])])))),128))])]),(0,c._)("div",K,[(0,c._)("div",P,[(0,c._)("div",Y,[(0,c._)("div",J,[Q,(0,c._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[7]||(e[7]=(...a)=>W.cerrarModalActualizar&&W.cerrarModalActualizar(...a))},X)]),(0,c._)("div",aa,[(0,c._)("form",{onSubmit:e[12]||(e[12]=(0,i.iM)(((...a)=>W.actualizarRecreacion&&W.actualizarRecreacion(...a)),["prevent"]))},[(0,c._)("div",ea,[ra,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>y.recreacionActualizada.name=a),class:"form-control",id:"nombreRecreacionActualizar",required:""},null,512),[[i.nr,y.recreacionActualizada.name]])]),(0,c._)("div",ca,[ia,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>y.recreacionActualizada.address=a),class:"form-control",id:"direccionRecreacionActualizar",required:""},null,512),[[i.nr,y.recreacionActualizada.address]])]),(0,c._)("div",oa,[la,(0,c._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:e[10]||(e[10]=(...e)=>a.uploadFileActualizar&&a.uploadFileActualizar(...e)),id:"imagenRecreacionActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,c._)("div",ta,[na,(0,c.wy)((0,c._)("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=a=>y.recreacionActualizada.phone=a),class:"form-control",id:"telefonoRecreacionActualizar",required:""},null,512),[[i.nr,y.recreacionActualizada.phone]])]),sa],32)]),(0,c._)("div",da,[a.successMessage?((0,c.wg)(),(0,c.iD)("p",ua,(0,o.zw)(a.successMessage),1)):(0,c.kq)("",!0)])])])],512)])])])}var ma=r(1076),ha={data(){return{recreaciones:[],recreacionActualizada:{_id:null,nombre:"",services:"",image:"",phone:"",price:"",status:""},file:null,filea:null,nuevaRecreacion:{nombre:"",services:"",image:"",phone:"",price:"",status:"",customer_id:""}}},mounted(){this.fetchRecreaciones()},methods:{async fetchRecreaciones(){let a=localStorage.getItem("customerId");try{const e=await ma.Z.get("http://localhost:3000/app/Recreacion");let r=e.data.filter((e=>e._id===a));this.recreaciones=r||[]}catch(e){console.error("Error fetching recreaciones:",e)}},async eliminarRecreacion(a){try{await ma.Z.delete(`http://localhost:3000/app/Recreacion/${a}`),this.fetchRecreaciones()}catch(e){console.error("Error deleting recreacion:",e)}},abrirModalActualizar(a){this.recreacionActualizada={...a};const e=this.$refs.modalActualizar;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearRecreacion(){let a=localStorage.getItem("customerId");try{if(a){this.nuevaRecreacion.customer_id=a;var e=new FormData;e.append("image",this.file),e.append("name",this.nuevaRecreacion.name),e.append("address",this.nuevaRecreacion.address),e.append("services",this.nuevaRecreacion.services),e.append("price",this.nuevaRecreacion.price),e.append("customer_id",this.nuevaRecreacion.customer_id);const r=await ma.Z.post("http://localhost:3000/app/Recreacion",e);console.log(r),this.nuevaRecreacion={nombre:"",services:"",imagen:"",phone:"",price:"",status:"",customer_id:""},this.cerrarModalCrear(),this.fetchRecreaciones()}}catch(r){console.error("Error creating Recreacion:",r)}},async actualizarRecreacion(){if(this.filea){var a=new FormData;a.append("imagen",this.filea),a.append("image",""),a.append("name",this.recreacionActualizada.name),a.append("address",this.recreacionActualizada.address),a.append("services",this.recreacionActualizada.services),a.append("price",this.recreacionActualizada.price),a.append("customer_id",this.recreacionActualizada.customer_id);try{const e=await ma.Z.put(`http://localhost:3000/app/Recreacion/${this.recreacionActualizada._id}`,a);console.log(e),this.fetchRecreaciones(),this.cerrarModalActualizar(),this.filea=null}catch(e){console.error("Error updating Recreacion:",e)}}else try{const a=await ma.Z.put(`http://localhost:3000/app/Recreacion/${this.recreacionActualizada._id}`,this.recreacionActualizada);console.log(a),this.fetchRecreaciones(),this.cerrarModalActualizar()}catch(e){console.error("Error updating Recreacion:",e)}}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}},fa=r(89);const _a=(0,fa.Z)(ha,[["render",pa],["__scopeId","data-v-0e167a9f"]]);var ba=_a}}]);
//# sourceMappingURL=518.25ea8dc2.js.map
"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[69],{8069:function(a,o,e){e.r(o),e.d(o,{default:function(){return aa}});var r=e(3396),t=e(7139),l=e(9242);const s=a=>((0,r.dD)("data-v-565d836c"),a=a(),(0,r.Cn)(),a),i={class:"container"},n=s((()=>(0,r._)("hr",null,null,-1))),c={class:"row"},d={class:"card mb-4"},m=["onClick","src"],u={class:"card-body"},p=s((()=>(0,r._)("hr",null,null,-1))),f={class:"h3 text-decoration-none"},h=s((()=>(0,r._)("hr",null,null,-1))),b=s((()=>(0,r._)("p",{class:"card-text"},null,-1))),_={class:"d-flex justify-content-between"},g={class:"m-0"},D=s((()=>(0,r._)("i",{class:"fa fa-map-marker-alt text-primary mr-2"},null,-1))),v={class:"m-0"},y=s((()=>(0,r._)("i",{class:"fas fa-coins text-primary mr-2"},null,-1))),w=s((()=>(0,r._)("hr",null,null,-1))),I={key:0},S={key:1},k=["onClick"],C={class:"modal",id:"solicitudModal",tabindex:"-1",role:"dialog","aria-labelledby":"solicitudModalLabel","aria-hidden":"true"},x={class:"modal-dialog",role:"document"},U={class:"modal-content"},M={class:"modal-header"},R=s((()=>(0,r._)("h4",{class:"modal-title",id:"solicitudModalLabel"},"Solicitar Servicio",-1))),H={class:"modal-body"},V={class:"form-group"},E=s((()=>(0,r._)("label",{for:"nombre"},"Nombres:",-1))),N={class:"form-group"},q=s((()=>(0,r._)("label",{for:"correo"},"Correo:",-1))),B={class:"form-group"},z=s((()=>(0,r._)("label",{for:"celular"},"Numero de celular:",-1))),A={class:"form-group"},F=s((()=>(0,r._)("label",{for:"description"},"Descripcion:",-1))),L={class:"form-group"},O=s((()=>(0,r._)("label",{for:"person"},"Personal:",-1))),Z={class:"form-group"},$=s((()=>(0,r._)("label",{for:"entrada"},"Entrada:",-1))),j={class:"form-group"},G=s((()=>(0,r._)("label",{for:"salida"},"Salida:",-1))),K=s((()=>(0,r._)("button",{type:"submit",class:"btn btn-success"},"Solicitar",-1)));function P(a,o,e,s,P,T){return(0,r.wg)(),(0,r.iD)("div",i,[n,(0,r._)("div",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(P.hoteles,(a=>((0,r.wg)(),(0,r.iD)("div",{class:"col-md-4",key:a.id},[(0,r._)("div",d,[(0,r._)("img",{onClick:o=>T.enviarIdGaleria(a.customer_id,a._id),src:a.image,class:"card-img-top",alt:"Hotel"},null,8,m),(0,r._)("div",u,[p,(0,r._)("p",f,(0,t.zw)(a.name),1),h,b,(0,r._)("div",_,[(0,r._)("h5",g,[D,(0,r.Uk)((0,t.zw)(a.address),1)]),(0,r._)("h5",v,[y,(0,r.Uk)((0,t.zw)(a.price),1)])]),w,null===P.customerRol?((0,r.wg)(),(0,r.iD)("div",I,[(0,r._)("button",{class:"btn btn-primary",onClick:o[0]||(o[0]=(...a)=>T.confirmarRegistro&&T.confirmarRegistro(...a))},"Solicitar servicio")])):(0,r.kq)("",!0),"Cliente"===P.customerRol?((0,r.wg)(),(0,r.iD)("div",S,[(0,r._)("button",{class:"btn btn-primary","data-toggle":"modal","data-target":"#solicitudModal",onClick:o=>T.enviarcid(a.customer_id,a._id)},"Obtener Servicio",8,k)])):(0,r.kq)("",!0)])])])))),128))]),(0,r._)("div",C,[(0,r._)("div",x,[(0,r._)("div",U,[(0,r._)("div",M,[R,(0,r._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:o[1]||(o[1]=(...a)=>T.cerrarModal&&T.cerrarModal(...a))},"X")]),(0,r._)("div",H,[(0,r._)("form",{onSubmit:o[10]||(o[10]=(0,l.iM)(((...a)=>T.submitForm&&T.submitForm(...a)),["prevent"]))},[(0,r._)("div",V,[E,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Describa nombre y apellido","onUpdate:modelValue":o[2]||(o[2]=a=>P.formData.nombre=a)},null,512),[[l.nr,P.formData.nombre]])]),(0,r._)("div",N,[q,(0,r.wy)((0,r._)("input",{type:"email",class:"form-control",placeholder:"Escriba su correo",id:"apellidos","onUpdate:modelValue":o[3]||(o[3]=a=>P.formData.correo=a)},null,512),[[l.nr,P.formData.correo]])]),(0,r._)("div",B,[z,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"celular",placeholder:"eje +57 304 000 4445","onUpdate:modelValue":o[4]||(o[4]=a=>P.formData.celular=a)},null,512),[[l.nr,P.formData.celular]])]),(0,r._)("div",A,[F,(0,r.wy)((0,r._)("textarea",{id:"description",placeholder:"Describa su solicitud",rows:"3","onUpdate:modelValue":o[5]||(o[5]=a=>P.formData.description=a)},null,512),[[l.nr,P.formData.description]])]),(0,r._)("div",L,[O,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"person",placeholder:"Número de personas","onUpdate:modelValue":o[6]||(o[6]=a=>P.formData.person=a)},null,512),[[l.nr,P.formData.person]])]),(0,r._)("div",Z,[$,(0,r.wy)((0,r._)("input",{type:"date",class:"form-control",id:"entrada","onUpdate:modelValue":o[7]||(o[7]=a=>P.formData.entrada=a),required:""},null,512),[[l.nr,P.formData.entrada]])]),(0,r._)("div",j,[G,(0,r.wy)((0,r._)("input",{type:"date",class:"form-control",id:"salida","onUpdate:modelValue":o[8]||(o[8]=a=>P.formData.salida=a),required:""},null,512),[[l.nr,P.formData.salida]])]),K,(0,r._)("button",{type:"button",class:"btn btn-secondary",onClick:o[9]||(o[9]=(...a)=>T.cerrarModal&&T.cerrarModal(...a))},"Cerrar")],32)])])])])])}e(560);var T=e(1076),W=e(2492),X=e.n(W),Y={data(){return{hoteles:[],customerRol:null,tipo:"Hotel",formData:{nombre:"",celular:"",correo:"",description:"",person:"",entrada:"",salida:"",clienteId:null,negocioId:null,customer_id:null}}},mounted(){this.customerRol=localStorage.getItem("usuarioRol"),this.formData.clienteId=localStorage.getItem("customerId"),this.formData.nombre=localStorage.getItem("nombreUsuario"),this.formData.correo=localStorage.getItem("correoUsuario"),this.formData.celular=localStorage.getItem("celularUsuario"),this.formData.person=localStorage.getItem("person"),this.formData.entrada=localStorage.getItem("entrada"),this.formData.salida=localStorage.getItem("salida"),this.fetchHoteles()},methods:{async fetchHoteles(){try{const a=await T.Z.get("http://localhost:3000/app/Hotel");this.hoteles=a.data}catch(a){console.error("Error al obtener los hoteles",a)}},async submitForm(){try{const a=await T.Z.post(`http://localhost:3000/app/pedirServicio?tipo=${this.tipo}`,this.formData);console.log(a),this.formData.customer_id=null,this.formData.negocioId=null,this.formData.description="",this.formData.person="",this.formData.entrada="",this.formData.salida="",await X().fire({title:"¡Bien hecho!",text:"¡Has enviado la solicitud con éxito!",icon:"success"}),window.location.reload()}catch(a){console.error("Error al enviar la solicitud",a)}},enviarIdGaleria(a,o){localStorage.setItem("customerNegocioId",a),localStorage.setItem("negocioId",o),this.$router.push({path:"/artegaleria"})},enviarcid(a,o){this.formData.customer_id=a,this.formData.negocioId=o},confirmarRegistro(){X().fire({icon:"error",title:"Oops...",text:"Si desea solicitar un servicio, debe registrarse.",footer:'<a href="https://api.whatsapp.com/send?phone=573125637781&text=Hola%2C%20me%20gustar%C3%ADa%20tomar%20un%20servicio%20desde%20la%20plataforma%20COSTA%20BRISA.">Why do I have this issue?</a>'}).then((()=>{this.$router.push({path:"/resgister",name:"Res",component:()=>e.e(944).then(e.bind(e,5944))})}))},cerrarModal(){this.formData={nombre:"",celular:"",correo:"",description:"",person:"",entrada:"",salida:"",clienteId:null,negocioId:null,customer_id:null};const a=document.getElementById("solicitudModal");if(a){a.classList.remove("show"),a.style.display="none";const o=document.getElementsByClassName("modal-backdrop");document.body.removeChild(o[0])}}}},J=e(89);const Q=(0,J.Z)(Y,[["render",P],["__scopeId","data-v-565d836c"]]);var aa=Q}}]);
//# sourceMappingURL=69.77e5abe8.js.map
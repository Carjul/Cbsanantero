"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[765],{1765:function(t,i,e){e.r(i),e.d(i,{default:function(){return L}});var a=e(3396),o=e(7139);const l={class:"container"},s=(0,a._)("hr",null,null,-1),n={key:0},c=(0,a._)("p",null,"No tienes notificaciones",-1),d=[c],r={key:1},u=["onClick"],_={class:"message-content"},f={class:"message-text"},g={class:"modal fade",id:"messageModal",tabindex:"-1","aria-labelledby":"messageModalLabel","aria-hidden":"true"},m={class:"modal-dialog modal-lg"},h={class:"modal-content"},b={class:"modal-header"},p={class:"modal-title",id:"messageModalLabel"},v=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},"X",-1),w={class:"modal-body"},C={class:"modal-body"},N={class:"table table-bordered table-striped"},y=(0,a._)("td",{class:"title"},"Administrador",-1),z=(0,a._)("td",{class:"title"},"Solicitante:",-1),k=(0,a._)("td",{class:"title"},"Asunto:",-1),I=(0,a._)("td",{class:"title"},"Personas:",-1),S=(0,a._)("td",{class:"title"},"Correo:",-1),D=(0,a._)("td",{class:"title"},"Contacto:",-1),A=(0,a._)("td",{class:"title"},"Fecha Entrada",-1),M=(0,a._)("td",{class:"title"},"Fecha Salida:",-1),Z=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cerrar")],-1);function F(t,i,e,c,F,U){return(0,a.wg)(),(0,a.iD)("div",l,[s,0===F.notificaciones.length?((0,a.wg)(),(0,a.iD)("div",n,d)):((0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(F.notificaciones,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,onClick:i=>U.cargarNotificacion(t),"data-bs-toggle":"modal","data-bs-target":"#messageModal",class:"shadow-lg p-3 mb-2 bg-body-tertiary rounded message"},[(0,a._)("div",_,[(0,a._)("i",{class:(0,o.C_)(["fas",t.revision?"message-icon fa-envelope":"fa-envelope-open"])}," : "+(0,o.zw)(t.nombre),3),(0,a._)("div",f,[(0,a._)("i",null,"............"+(0,o.zw)(t.description),1)])])],8,u)))),128))])),(0,a._)("div",g,[(0,a._)("div",m,[(0,a._)("div",h,[(0,a._)("div",b,[(0,a._)("h5",p,"Fecha: "+(0,o.zw)(F.notificacion.fecha),1),v]),(0,a._)("div",w,[(0,a._)("div",C,[(0,a._)("table",N,[(0,a._)("tr",null,[y,(0,a._)("td",null,(0,o.zw)(F.notificacion.customerName),1)]),(0,a._)("tr",null,[z,(0,a._)("td",null,(0,o.zw)(F.notificacion.nombre),1)]),(0,a._)("tr",null,[k,(0,a._)("td",null,(0,o.zw)(F.notificacion.description),1)]),(0,a._)("tr",null,[I,(0,a._)("td",null,(0,o.zw)(F.notificacion.person),1)]),(0,a._)("tr",null,[S,(0,a._)("td",null,(0,o.zw)(F.notificacion.correo),1)]),(0,a._)("tr",null,[D,(0,a._)("td",null,(0,o.zw)(F.notificacion.celular),1)]),(0,a._)("tr",null,[A,(0,a._)("td",null,(0,o.zw)(F.notificacion.entrada),1)]),(0,a._)("tr",null,[M,(0,a._)("td",null,(0,o.zw)(F.notificacion.salida),1)])])])]),Z])])])])}var U=e(1076),x={data(){return{notificacion:{},notificaciones:[],clientes:[],tipoNegocioUsuario:"",adminId:"669eeb77b1259a7ef20afcab"}},methods:{getNotificacion(){let t=localStorage.getItem("customerId"),i=`http://localhost:3000/app/pedirServicioc/${t}`;U.Z.get(i).then((t=>{this.notificaciones=t.data||[],this.compareIds()})).catch((t=>{console.log(t)}))},getAllClientes(){let t="http://localhost:3000/app/Customer";U.Z.get(t).then((t=>{this.clientes=t.data||[],console.log("Clientes:",this.clientes)})).catch((t=>{console.log(t)}))},cargarNotificacion(t){this.notificacion=t,t.revision&&U.Z.put(`http://localhost:3000/app/ServicioStatus/${t._id}`,{revision:!1}).then((t=>{console.log(t.data),this.getNotificacion()})).catch((t=>{console.log(t)}))},findClienteNameById(t){const i=this.clientes.find((i=>i._id===t));return i?i.Name:"No disponible"},compareIds(){this.notificaciones.forEach((t=>{t.clienteNombre=this.findClienteNameById(t.customerId)}))}},mounted(){this.getNotificacion(),this.getAllClientes(),this.tipoNegocioUsuario=localStorage.getItem("tipoNegocioUsuario")}},B=e(89);const E=(0,B.Z)(x,[["render",F]]);var L=E}}]);
//# sourceMappingURL=765.8e414ff8.js.map
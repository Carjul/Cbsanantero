"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[657],{7657:function(a,r,e){e.r(r),e.d(r,{default:function(){return Ca}});var t=e(3396),o=e(9242),s=e(7139);const l=a=>((0,t.dD)("data-v-6370ab1d"),a=a(),(0,t.Cn)(),a),i={id:"app"},c=l((()=>(0,t._)("nav",{class:"main-menu"},[(0,t._)("strong",null,"PANEL DE ADMINISTRACION"),(0,t._)("ul")],-1))),d={class:"content"},n={class:"left-content"},p={class:"card"},u={class:"card-body"},m=l((()=>(0,t._)("br",null,null,-1))),_=l((()=>(0,t._)("br",null,null,-1))),h=l((()=>(0,t._)("h5",{class:"card-title"},"Creación de Trasporte",-1))),f=l((()=>(0,t._)("p",{class:"card-text"},"En este espacio creamos nuevos trasportes para COSTA BRISA",-1))),b=(0,t.uE)('<div class="card" data-v-6370ab1d><div class="card-body" data-v-6370ab1d><br data-v-6370ab1d><br data-v-6370ab1d><h5 class="card-title" data-v-6370ab1d>¡Crea tu Galeria!</h5><p class="card-text" data-v-6370ab1d>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-6370ab1d>Crear Galería</button></div></div>',1),T={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},g={class:"modal-dialog modal-dialog-centered",role:"document"},v={class:"modal-content"},z={class:"modal-header"},A=l((()=>(0,t._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Trasporte",-1))),y=l((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),w=[y],C={class:"modal-body"},x={class:"form-group col-md-6"},M=l((()=>(0,t._)("label",{for:"nombreTrasporte"},"Nombre:",-1))),k={class:"form-group col-md-6"},D=l((()=>(0,t._)("label",{for:"descriptionTrasporte"},"Descripción:",-1))),E={class:"form-group col-md-6"},I=l((()=>(0,t._)("label",{for:"direccionTrasporte"},"Dirección:",-1))),q={class:"form-group col-md-6"},U=l((()=>(0,t._)("label",{for:"imagenTrasporte"},"Imagen:",-1))),L={class:"form-group col-md-6"},V=l((()=>(0,t._)("label",{for:"telefonoTrasporte"},"Teléfono:",-1))),F={class:"form-group col-md-6"},S=l((()=>(0,t._)("label",{for:"precioTrasporte"},"Precio:",-1))),$=l((()=>(0,t._)("div",{class:"form-group col-md-12"},[(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Crear Trasporte")],-1))),Z={class:"right-content"},N=l((()=>(0,t._)("strong",null,"TRASPORTE ACTUAL",-1))),j={class:"row"},P={class:"card"},R=["src"],G={class:"card-body"},O={class:"card-title"},B={class:"card-text"},H={class:"card-text"},K={class:"card-text"},Y=["onClick"],J=["onClick"],Q={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},W={class:"modal-dialog modal-dialog-centered",role:"document"},X={class:"modal-content"},aa={class:"modal-header"},ra=l((()=>(0,t._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Trasporte",-1))),ea=l((()=>(0,t._)("span",{"aria-hidden":"true"},"×",-1))),ta=[ea],oa={class:"modal-body"},sa={class:"form-group col-md-6"},la=l((()=>(0,t._)("label",{for:"nombreTrasporteActualizar"},"Nombre:",-1))),ia={class:"form-group col-md-6"},ca=l((()=>(0,t._)("label",{for:"descriptionTrasporteActualizar"},"Descripción:",-1))),da={class:"form-group col-md-6"},na=l((()=>(0,t._)("label",{for:"direccionTrasporteActualizar"},"Dirección:",-1))),pa={class:"form-group col-md-6"},ua=l((()=>(0,t._)("label",{for:"imagenTrasporteActualizar"},"Imagen:",-1))),ma={class:"form-group col-md-6"},_a=l((()=>(0,t._)("label",{for:"telefonoTrasporteActualizar"},"Teléfono:",-1))),ha={class:"form-group col-md-6"},fa=l((()=>(0,t._)("label",{for:"precioTrasporteActualizar"},"Precio:",-1))),ba=l((()=>(0,t._)("div",{class:"form-group col-md-12"},[(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios")],-1))),Ta={class:"modal-footer"},ga={key:0,class:"text-success"};function va(a,r,e,l,y,ea){return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("main",null,[c,(0,t._)("section",d,[(0,t._)("div",n,[(0,t._)("div",p,[(0,t._)("div",u,[m,_,h,f,(0,t._)("button",{class:"btn btn-success mb-4",onClick:r[0]||(r[0]=(...a)=>ea.abrirModalCrear&&ea.abrirModalCrear(...a))},"Crear")])]),b,(0,t._)("div",T,[(0,t._)("div",g,[(0,t._)("div",v,[(0,t._)("div",z,[A,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:r[1]||(r[1]=(...a)=>ea.cerrarModalCrear&&ea.cerrarModalCrear(...a))},w)]),(0,t._)("div",C,[(0,t._)("form",{onSubmit:r[8]||(r[8]=(0,o.iM)(((...a)=>ea.crearTrasporte&&ea.crearTrasporte(...a)),["prevent"])),class:"row"},[(0,t._)("div",x,[M,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=a=>y.nuevoTrasporte.name=a),class:"form-control",id:"nombreTrasporte",required:""},null,512),[[o.nr,y.nuevoTrasporte.name]])]),(0,t._)("div",k,[D,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=a=>y.nuevoTrasporte.description=a),class:"form-control",id:"descriptionTrasporte",required:""},null,512),[[o.nr,y.nuevoTrasporte.description]])]),(0,t._)("div",E,[I,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=a=>y.nuevoTrasporte.address=a),class:"form-control",id:"direccionTrasporte",required:""},null,512),[[o.nr,y.nuevoTrasporte.address]])]),(0,t._)("div",q,[U,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:r[5]||(r[5]=(...a)=>ea.uploadFile&&ea.uploadFile(...a)),id:"imagenTrasporte",ref:"fileCrear",type:"file"},null,544)]),(0,t._)("div",L,[V,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[6]||(r[6]=a=>y.nuevoTrasporte.phone=a),class:"form-control",id:"telefonoTrasporte",required:""},null,512),[[o.nr,y.nuevoTrasporte.phone]])]),(0,t._)("div",F,[S,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[7]||(r[7]=a=>y.nuevoTrasporte.price=a),class:"form-control",id:"precioTrasporte",required:""},null,512),[[o.nr,y.nuevoTrasporte.price]])]),$],32)])])])],512)]),(0,t._)("div",Z,[N,(0,t._)("div",j,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.transportes,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,t._)("div",P,[(0,t._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Trasporte Image"},null,8,R),(0,t._)("div",G,[(0,t._)("h5",O,(0,s.zw)(a.name),1),(0,t._)("p",B,"Dirección: "+(0,s.zw)(a.address),1),(0,t._)("p",H,"Descripción: "+(0,s.zw)(a.description),1),(0,t._)("p",null,(0,s.zw)(a.price),1),(0,t._)("p",K,"Teléfono: "+(0,s.zw)(a.phone),1),(0,t._)("button",{class:"btn btn-danger",onClick:r=>ea.eliminarTrasporte(a._id)},"Eliminar",8,Y),(0,t._)("button",{class:"btn btn-primary",onClick:r=>ea.abrirModalActualizar(a)},"Actualizar",8,J)])])])))),128))])]),(0,t._)("div",Q,[(0,t._)("div",W,[(0,t._)("div",X,[(0,t._)("div",aa,[ra,(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:r[9]||(r[9]=(...a)=>ea.cerrarModalActualizar&&ea.cerrarModalActualizar(...a))},ta)]),(0,t._)("div",oa,[(0,t._)("form",{onSubmit:r[16]||(r[16]=(0,o.iM)(((...a)=>ea.actualizarTrasporte&&ea.actualizarTrasporte(...a)),["prevent"])),class:"row"},[(0,t._)("div",sa,[la,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[10]||(r[10]=a=>y.trasporteActualizado.name=a),class:"form-control",id:"nombreTrasporteActualizar",required:""},null,512),[[o.nr,y.trasporteActualizado.name]])]),(0,t._)("div",ia,[ca,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[11]||(r[11]=a=>y.trasporteActualizado.description=a),class:"form-control",id:"descriptionTrasporteActualizar",required:""},null,512),[[o.nr,y.trasporteActualizado.description]])]),(0,t._)("div",da,[na,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[12]||(r[12]=a=>y.trasporteActualizado.address=a),class:"form-control",id:"direccionTrasporteActualizar",required:""},null,512),[[o.nr,y.trasporteActualizado.address]])]),(0,t._)("div",pa,[ua,(0,t._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:r[13]||(r[13]=(...a)=>ea.uploadFileActualizar&&ea.uploadFileActualizar(...a)),id:"imagenTrasporteActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,t._)("div",ma,[_a,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[14]||(r[14]=a=>y.trasporteActualizado.phone=a),class:"form-control",id:"telefonoTrasporteActualizar",required:""},null,512),[[o.nr,y.trasporteActualizado.phone]])]),(0,t._)("div",ha,[fa,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":r[15]||(r[15]=a=>y.trasporteActualizado.price=a),class:"form-control",id:"precioTrasporteActualizar",required:""},null,512),[[o.nr,y.trasporteActualizado.price]])]),ba],32)]),(0,t._)("div",Ta,[a.successMessage?((0,t.wg)(),(0,t.iD)("p",ga,(0,s.zw)(a.successMessage),1)):(0,t.kq)("",!0)])])])],512)])])])}var za=e(1076),Aa={data(){return{transportes:[],trasporteActualizado:{_id:null,name:"",description:"",address:"",image:"",phone:"",price:""},file:null,fileActualizar:null,nuevoTrasporte:{name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""}}},async mounted(){await this.fetchTransportes()},methods:{async fetchTransportes(){let a=localStorage.getItem("customerId");try{const r=await za.Z.get("http://localhost:3000/app/Trasporte");!r.data||(this.transportes=r.data.filter((r=>r.customer_id===a)))}catch(r){console.error("Error fetching trasportes:",r)}},async eliminarTrasporte(a){try{await za.Z.delete(`http://localhost:3000/app/Trasporte/${a}`),this.fetchTransportes()}catch(r){console.error("Error deleting trasporte:",r)}},abrirModalActualizar(a){this.trasporteActualizado={...a};const r=this.$refs.modalActualizar;r&&(r.classList.add("show"),r.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearTrasporte(){let a=localStorage.getItem("customerId");try{if(a){this.nuevoTrasporte.customer_id=a;const r=new FormData;r.append("image",this.file),r.append("name",this.nuevoTrasporte.name),r.append("description",this.nuevoTrasporte.description),r.append("address",this.nuevoTrasporte.address),r.append("phone",this.nuevoTrasporte.phone),r.append("price",this.nuevoTrasporte.price),r.append("customer_id",this.nuevoTrasporte.customer_id);const e=await za.Z.post("http://localhost:3000/app/Trasporte",r);console.log(e),this.nuevoTrasporte={name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""},this.cerrarModalCrear(),this.fetchTransportes()}}catch(r){console.error("Error creating Trasporte:",r)}},async actualizarTrasporte(){if(this.fileActualizar){const r=new FormData;r.append("name",this.trasporteActualizado.name),r.append("description",this.trasporteActualizado.description),r.append("address",this.trasporteActualizado.address),r.append("phone",this.trasporteActualizado.phone),r.append("price",this.trasporteActualizado.price),r.append("customer_id",this.trasporteActualizado.customer_id),r.append("imagen",this.fileActualizar),r.append("image","");try{const a=await za.Z.put(`http://localhost:3000/app/Trasporte/${this.trasporteActualizado._id}`,r);console.log(a),this.fetchTransportes(),this.cerrarModalActualizar(),this.fileActualizar=null}catch(a){console.error("Error updating Trasporte:",a)}}else try{const a=await za.Z.put(`http://localhost:3000/app/Trasporte/${this.trasporteActualizado._id}`,this.trasporteActualizado);console.log(a),this.fetchTransportes(),this.cerrarModalActualizar()}catch(a){console.error("Error updating Trasporte:",a)}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}}},ya=e(89);const wa=(0,ya.Z)(Aa,[["render",va],["__scopeId","data-v-6370ab1d"]]);var Ca=wa}}]);
//# sourceMappingURL=657.a94ceff5.js.map
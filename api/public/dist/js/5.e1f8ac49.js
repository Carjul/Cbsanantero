"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[5],{5005:function(e,a,o){o.r(a),o.d(a,{default:function(){return we}});var s=o(3396),l=o(9242),d=o(7139);const r=e=>((0,s.dD)("data-v-07858104"),e=e(),(0,s.Cn)(),e),t={id:"app"},i=r((()=>(0,s._)("nav",{class:"main-menu"},[(0,s._)("strong",null,"PANEL DE ADMINISTRACION"),(0,s._)("ul")],-1))),c={class:"content"},n={class:"left-content"},p={class:"card"},u={class:"card-body"},m=r((()=>(0,s._)("br",null,null,-1))),h=r((()=>(0,s._)("br",null,null,-1))),j=r((()=>(0,s._)("h5",{class:"card-title"},"Creación de Hospedaje",-1))),_=r((()=>(0,s._)("p",{class:"card-text"},"En este espacio creamos nuevos hospedajes para COSTA BRISA",-1))),f=(0,s.uE)('<div class="card" data-v-07858104><div class="card-body" data-v-07858104><br data-v-07858104><br data-v-07858104><h5 class="card-title" data-v-07858104>¡Crea tu Galeria!</h5><p class="card-text" data-v-07858104>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-07858104>Crear Galería</button></div></div>',1),b={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},g={class:"modal-dialog modal-dialog-centered",role:"document"},v={class:"modal-content"},H={class:"modal-header"},z=r((()=>(0,s._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Hospedaje",-1))),A=r((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),y=[A],w={class:"modal-body"},C={class:"form-group col-md-6"},x=r((()=>(0,s._)("label",{for:"nombreHospedaje"},"Nombre:",-1))),M={class:"form-group col-md-6"},k=r((()=>(0,s._)("label",{for:"descriptionHospedaje"},"Descripcion:",-1))),D={class:"form-group col-md-6"},E=r((()=>(0,s._)("label",{for:"direccionHospedaje"},"Dirección:",-1))),I={class:"form-group col-md-6"},q=r((()=>(0,s._)("label",{for:"imagenHospedaje"},"Imagen:",-1))),U={class:"form-group col-md-6"},L=r((()=>(0,s._)("label",{for:"telefonoHospedaje"},"Teléfono:",-1))),V={class:"form-group col-md-6"},F=r((()=>(0,s._)("label",{for:"precioHospedaje"},"Precio:",-1))),S=r((()=>(0,s._)("div",{class:"form-group col-md-12"},[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Crear Hospedaje")],-1))),$={class:"right-content"},T=r((()=>(0,s._)("strong",null,"HOSPEDAJE ACTUAL",-1))),Z={class:"row"},N={class:"card"},P=["src"],G={class:"card-body"},O={class:"card-title"},R={class:"card-text"},B={class:"card-text"},J={class:"card-text"},K=["onClick"],Y=["onClick"],Q={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},W={class:"modal-dialog modal-dialog-centered",role:"document"},X={class:"modal-content"},ee={class:"modal-header"},ae=r((()=>(0,s._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Hospedaje",-1))),oe=r((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),se=[oe],le={class:"modal-body"},de={class:"form-group col-md-6"},re=r((()=>(0,s._)("label",{for:"nombreHospedajeActualizar"},"Nombre:",-1))),te={class:"form-group col-md-6"},ie=r((()=>(0,s._)("label",{for:"descriptionHospedajeActualizar"},"Descripción:",-1))),ce={class:"form-group col-md-6"},ne=r((()=>(0,s._)("label",{for:"direccionHospedajeActualizar"},"Dirección:",-1))),pe={class:"form-group col-md-6"},ue=r((()=>(0,s._)("label",{for:"imagenHospedajeActualizar"},"Imagen:",-1))),me={class:"form-group col-md-6"},he=r((()=>(0,s._)("label",{for:"telefonoHospedajeActualizar"},"Teléfono:",-1))),je={class:"form-group col-md-6"},_e=r((()=>(0,s._)("label",{for:"precioHospedajeActualizar"},"Precio:",-1))),fe=r((()=>(0,s._)("div",{class:"form-group col-md-12"},[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios")],-1))),be={class:"modal-footer"},ge={key:0,class:"text-success"};function ve(e,a,o,r,A,oe){return(0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("main",null,[i,(0,s._)("section",c,[(0,s._)("div",n,[(0,s._)("div",p,[(0,s._)("div",u,[m,h,j,_,(0,s._)("button",{class:"btn btn-success mb-4",onClick:a[0]||(a[0]=(...e)=>oe.abrirModalCrear&&oe.abrirModalCrear(...e))},"Crear")])]),f,(0,s._)("div",b,[(0,s._)("div",g,[(0,s._)("div",v,[(0,s._)("div",H,[z,(0,s._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[1]||(a[1]=(...e)=>oe.cerrarModalCrear&&oe.cerrarModalCrear(...e))},y)]),(0,s._)("div",w,[(0,s._)("form",{onSubmit:a[8]||(a[8]=(0,l.iM)(((...e)=>oe.crearHospedaje&&oe.crearHospedaje(...e)),["prevent"])),class:"row"},[(0,s._)("div",C,[x,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>A.nuevoHospedaje.name=e),class:"form-control",id:"nombreHospedaje",required:""},null,512),[[l.nr,A.nuevoHospedaje.name]])]),(0,s._)("div",M,[k,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>A.nuevoHospedaje.description=e),class:"form-control",id:"descriptionHospedaje",required:""},null,512),[[l.nr,A.nuevoHospedaje.description]])]),(0,s._)("div",D,[E,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>A.nuevoHospedaje.address=e),class:"form-control",id:"direccionHospedaje",required:""},null,512),[[l.nr,A.nuevoHospedaje.address]])]),(0,s._)("div",I,[q,(0,s._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:a[5]||(a[5]=(...e)=>oe.uploadFile&&oe.uploadFile(...e)),id:"imagenHospedaje",ref:"fileCrear",type:"file"},null,544)]),(0,s._)("div",U,[L,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>A.nuevoHospedaje.phone=e),class:"form-control",id:"telefonoHospedaje",required:""},null,512),[[l.nr,A.nuevoHospedaje.phone]])]),(0,s._)("div",V,[F,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>A.nuevoHospedaje.price=e),class:"form-control",id:"precioHospedaje",required:""},null,512),[[l.nr,A.nuevoHospedaje.price]])]),S],32)])])])],512)]),(0,s._)("div",$,[T,(0,s._)("div",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.hospedajes,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e._id,class:"col-md-12 mb-6"},[(0,s._)("div",N,[(0,s._)("img",{src:e.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Hospedaje Image"},null,8,P),(0,s._)("div",G,[(0,s._)("h5",O,(0,d.zw)(e.name),1),(0,s._)("p",R,"Dirección: "+(0,d.zw)(e.address),1),(0,s._)("p",B,"Descripción: "+(0,d.zw)(e.description),1),(0,s._)("p",null,(0,d.zw)(e.price),1),(0,s._)("p",J,"Teléfono: "+(0,d.zw)(e.phone),1),(0,s._)("button",{class:"btn btn-danger",onClick:a=>oe.eliminarHospedaje(e._id)},"Eliminar",8,K),(0,s._)("button",{class:"btn btn-primary",onClick:a=>oe.abrirModalActualizar(e)},"Actualizar",8,Y)])])])))),128))])]),(0,s._)("div",Q,[(0,s._)("div",W,[(0,s._)("div",X,[(0,s._)("div",ee,[ae,(0,s._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[9]||(a[9]=(...e)=>oe.cerrarModalActualizar&&oe.cerrarModalActualizar(...e))},se)]),(0,s._)("div",le,[(0,s._)("form",{onSubmit:a[16]||(a[16]=(0,l.iM)(((...e)=>oe.actualizarHospedaje&&oe.actualizarHospedaje(...e)),["prevent"])),class:"row"},[(0,s._)("div",de,[re,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>A.hospedajeActualizado.name=e),class:"form-control",id:"nombreHospedajeActualizar",required:""},null,512),[[l.nr,A.hospedajeActualizado.name]])]),(0,s._)("div",te,[ie,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>A.hospedajeActualizado.description=e),class:"form-control",id:"descriptionHospedajeActualizar",required:""},null,512),[[l.nr,A.hospedajeActualizado.description]])]),(0,s._)("div",ce,[ne,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>A.hospedajeActualizado.address=e),class:"form-control",id:"direccionHospedajeActualizar",required:""},null,512),[[l.nr,A.hospedajeActualizado.address]])]),(0,s._)("div",pe,[ue,(0,s._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:a[13]||(a[13]=(...e)=>oe.uploadFileActualizar&&oe.uploadFileActualizar(...e)),id:"imagenHospedajeActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,s._)("div",me,[he,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=e=>A.hospedajeActualizado.phone=e),class:"form-control",id:"telefonoHospedajeActualizar",required:""},null,512),[[l.nr,A.hospedajeActualizado.phone]])]),(0,s._)("div",je,[_e,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[15]||(a[15]=e=>A.hospedajeActualizado.price=e),class:"form-control",id:"precioHospedajeActualizar",required:""},null,512),[[l.nr,A.hospedajeActualizado.price]])]),fe],32)]),(0,s._)("div",be,[e.successMessage?((0,s.wg)(),(0,s.iD)("p",ge,(0,d.zw)(e.successMessage),1)):(0,s.kq)("",!0)])])])],512)])])])}var He=o(1076),ze={data(){return{hospedajes:[],hospedajeActualizado:{_id:null,name:"",description:"",address:"",image:"",phone:"",price:""},file:null,fileActualizar:null,nuevoHospedaje:{name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""}}},async mounted(){await this.fetchHospedajes()},methods:{async fetchHospedajes(){let e=localStorage.getItem("customerId");try{const a=await He.Z.get("http://localhost:3000/app/Hospedaje");!a.data||(this.hospedajes=a.data.filter((a=>a.customer_id===e)))}catch(a){console.error("Error fetching hospedajes:",a)}},async eliminarHospedaje(e){try{await He.Z.delete(`http://localhost:3000/app/Hospedaje/${e}`),this.fetchHospedajes()}catch(a){console.error("Error deleting hospedaje:",a)}},abrirModalActualizar(e){this.hospedajeActualizado={...e};const a=this.$refs.modalActualizar;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalActualizar(){const e=this.$refs.modalActualizar;e&&(e.classList.remove("show"),e.style.display="none")},abrirModalCrear(){const e=this.$refs.modalCrear;e&&(e.classList.add("show"),e.style.display="block")},cerrarModalCrear(){const e=this.$refs.modalCrear;e&&(e.classList.remove("show"),e.style.display="none")},async crearHospedaje(){let e=localStorage.getItem("customerId");try{if(e){this.nuevoHospedaje.customer_id=e;const a=new FormData;a.append("image",this.file),a.append("name",this.nuevoHospedaje.name),a.append("description",this.nuevoHospedaje.description),a.append("address",this.nuevoHospedaje.address),a.append("phone",this.nuevoHospedaje.phone),a.append("price",this.nuevoHospedaje.price),a.append("customer_id",this.nuevoHospedaje.customer_id);const o=await He.Z.post("http://localhost:3000/app/Hospedaje",a);console.log(o),this.nuevoHospedaje={name:"",description:"",address:"",image:"",phone:"",price:"",customer_id:""},this.cerrarModalCrear(),this.fetchHospedajes()}}catch(a){console.error("Error creating Hospedaje:",a)}},async actualizarHospedaje(){if(this.fileActualizar){const a=new FormData;a.append("name",this.hospedajeActualizado.name),a.append("description",this.hospedajeActualizado.description),a.append("address",this.hospedajeActualizado.address),a.append("phone",this.hospedajeActualizado.phone),a.append("price",this.hospedajeActualizado.price),a.append("customer_id",this.hospedajeActualizado.customer_id),a.append("imagen",this.fileActualizar),a.append("image","");try{const e=await He.Z.put(`http://localhost:3000/app/Hospedaje/${this.hospedajeActualizado._id}`,a);console.log(e),this.fetchHospedajes(),this.cerrarModalActualizar(),this.fileActualizar=null}catch(e){console.error("Error updating Hospedaje:",e),console.log(this.actualizarHospedaje)}}else try{const e=await He.Z.put(`http://localhost:3000/app/Hospedaje/${this.hospedajeActualizado._id}`,this.hospedajeActualizado);console.log(e),this.fetchHospedajes(),this.cerrarModalActualizar()}catch(e){console.error("Error updating Hospedaje:",e)}},uploadFile(e){this.file=e.target.files[0]},uploadFileActualizar(e){this.fileActualizar=e.target.files[0]}}},Ae=o(89);const ye=(0,Ae.Z)(ze,[["render",ve],["__scopeId","data-v-07858104"]]);var we=ye}}]);
//# sourceMappingURL=5.e1f8ac49.js.map
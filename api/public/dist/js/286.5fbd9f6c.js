"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[286],{9286:function(a,r,e){e.r(r),e.d(r,{default:function(){return fa}});var l=e(3396),t=e(9242),o=e(7139);const i=a=>((0,l.dD)("data-v-7861a5c8"),a=a(),(0,l.Cn)(),a),s={id:"app"},c=i((()=>(0,l._)("nav",{class:"main-menu"},[(0,l._)("strong",null,"PANEL DE ADMINISTRACION"),(0,l._)("ul")],-1))),d={class:"content"},n={class:"left-content"},u={class:"card"},p={class:"card-body"},m=i((()=>(0,l._)("br",null,null,-1))),b=i((()=>(0,l._)("br",null,null,-1))),h=i((()=>(0,l._)("h5",{class:"card-title"},"Creación de Bar",-1))),_=i((()=>(0,l._)("p",{class:"card-text"},"En este espacio creamos nuevos bares para COSTA BRISA",-1))),f=(0,l.uE)('<div class="card" data-v-7861a5c8><div class="card-body" data-v-7861a5c8><br data-v-7861a5c8><br data-v-7861a5c8><h5 class="card-title" data-v-7861a5c8>¡Crea tu Galeria!</h5><p class="card-text" data-v-7861a5c8>En este espacio podrás publicar tu álbum de fotografías</p><button class="btn btn-success mb-4" data-v-7861a5c8>Crear Galería</button></div></div>',1),g={ref:"modalCrear",class:"modal fade",id:"modalCrear",tabindex:"",role:"dialog","aria-labelledby":"modalCrearLabel","aria-hidden":"true"},v={class:"modal-dialog modal-dialog-centered",role:"document"},B={class:"modal-content"},z={class:"modal-header"},A=i((()=>(0,l._)("h5",{class:"modal-title",id:"modalCrearLabel"},"Crear Bar",-1))),y=i((()=>(0,l._)("span",{"aria-hidden":"true"},"×",-1))),C=[y],w={class:"modal-body"},M={class:"form-group"},k=i((()=>(0,l._)("label",{for:"nombreBar"},"Nombre:",-1))),x={class:"form-group"},D=i((()=>(0,l._)("label",{for:"direccionBar"},"Dirección:",-1))),E={class:"form-group"},I=i((()=>(0,l._)("label",{for:"imagenBar"},"Imagen:",-1))),L={class:"form-group"},S=i((()=>(0,l._)("label",{for:"telefonoBar"},"Teléfono:",-1))),F=i((()=>(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Crear Bar",-1))),q={class:"right-content"},U=i((()=>(0,l._)("strong",null,"BARES ACTUALES",-1))),$={class:"row"},T={class:"card"},V=["src"],Z={class:"card-body"},N={class:"card-title"},j={class:"card-text"},G={class:"card-text"},R={class:"card-text"},O=["onClick"],H=["onClick"],K={ref:"modalActualizar",class:"modal fade",id:"modalActualizar",tabindex:"-1",role:"dialog","aria-labelledby":"modalActualizarLabel","aria-hidden":"true"},P={class:"modal-dialog modal-dialog-centered",role:"document"},Y={class:"modal-content"},J={class:"modal-header"},Q=i((()=>(0,l._)("h5",{class:"modal-title",id:"modalActualizarLabel"},"Actualizar Bar",-1))),W=i((()=>(0,l._)("span",{"aria-hidden":"true"},"×",-1))),X=[W],aa={class:"modal-body"},ra={class:"form-group"},ea=i((()=>(0,l._)("label",{for:"nombreBarActualizar"},"Nombre:",-1))),la={class:"form-group"},ta=i((()=>(0,l._)("label",{for:"direccionBarActualizar"},"Dirección:",-1))),oa={class:"form-group"},ia=i((()=>(0,l._)("label",{for:"imagenBarActualizar"},"Imagen:",-1))),sa={class:"form-group"},ca=i((()=>(0,l._)("label",{for:"telefonoBarActualizar"},"Teléfono:",-1))),da=i((()=>(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1))),na={class:"modal-footer"},ua={key:0,class:"text-success"};function pa(a,r,e,i,y,W){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("main",null,[c,(0,l._)("section",d,[(0,l._)("div",n,[(0,l._)("div",u,[(0,l._)("div",p,[m,b,h,_,(0,l._)("button",{class:"btn btn-success mb-4",onClick:r[0]||(r[0]=(...a)=>W.abrirModalCrear&&W.abrirModalCrear(...a))},"Crear")])]),f,(0,l._)("div",g,[(0,l._)("div",v,[(0,l._)("div",B,[(0,l._)("div",z,[A,(0,l._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:r[1]||(r[1]=(...a)=>W.cerrarModalCrear&&W.cerrarModalCrear(...a))},C)]),(0,l._)("div",w,[(0,l._)("form",{onSubmit:r[6]||(r[6]=(0,t.iM)(((...a)=>W.crearBar&&W.crearBar(...a)),["prevent"]))},[(0,l._)("div",M,[k,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=a=>y.nuevoBar.name=a),class:"form-control",id:"nombreBar",required:""},null,512),[[t.nr,y.nuevoBar.name]])]),(0,l._)("div",x,[D,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=a=>y.nuevoBar.address=a),class:"form-control",id:"direccionBar",required:""},null,512),[[t.nr,y.nuevoBar.address]])]),(0,l._)("div",E,[I,(0,l._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:r[4]||(r[4]=(...a)=>W.uploadFile&&W.uploadFile(...a)),id:"imagenBar",ref:"fileCrear",type:"file"},null,544)]),(0,l._)("div",L,[S,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[5]||(r[5]=a=>y.nuevoBar.phone=a),class:"form-control",id:"telefonoBar",required:""},null,512),[[t.nr,y.nuevoBar.phone]])]),F],32)])])])],512)]),(0,l._)("div",q,[U,(0,l._)("div",$,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(y.bares,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a._id,class:"col-md-12 mb-6"},[(0,l._)("div",T,[(0,l._)("img",{src:a.image,class:"card-img-top",style:{width:"100%",height:"200px"},alt:"Bar Image"},null,8,V),(0,l._)("div",Z,[(0,l._)("h5",N,(0,o.zw)(a.name),1),(0,l._)("p",j,"Dirección: "+(0,o.zw)(a.address),1),(0,l._)("p",G,"Descripción: "+(0,o.zw)(a.description),1),(0,l._)("p",R,"Teléfono: "+(0,o.zw)(a.phone),1),(0,l._)("button",{class:"btn btn-danger",onClick:r=>W.eliminarBar(a._id)},"Eliminar",8,O),(0,l._)("button",{class:"btn btn-primary",onClick:r=>W.abrirModalActualizar(a)},"Actualizar",8,H)])])])))),128))])]),(0,l._)("div",K,[(0,l._)("div",P,[(0,l._)("div",Y,[(0,l._)("div",J,[Q,(0,l._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:r[7]||(r[7]=(...a)=>W.cerrarModalActualizar&&W.cerrarModalActualizar(...a))},X)]),(0,l._)("div",aa,[(0,l._)("form",{onSubmit:r[12]||(r[12]=(0,t.iM)(((...a)=>W.actualizarBar&&W.actualizarBar(...a)),["prevent"]))},[(0,l._)("div",ra,[ea,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[8]||(r[8]=a=>y.barActualizado.name=a),class:"form-control",id:"nombreBarActualizar",required:""},null,512),[[t.nr,y.barActualizado.name]])]),(0,l._)("div",la,[ta,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[9]||(r[9]=a=>y.barActualizado.address=a),class:"form-control",id:"direccionBarActualizar",required:""},null,512),[[t.nr,y.barActualizado.address]])]),(0,l._)("div",oa,[ia,(0,l._)("input",{class:"form-control",accept:"image/jpeg, image/jpg, image/png",onChange:r[10]||(r[10]=(...a)=>W.uploadFileActualizar&&W.uploadFileActualizar(...a)),id:"imagenBarActualizar",ref:"fileActualizar",type:"file"},null,544)]),(0,l._)("div",sa,[ca,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":r[11]||(r[11]=a=>y.barActualizado.phone=a),class:"form-control",id:"telefonoBarActualizar",required:""},null,512),[[t.nr,y.barActualizado.phone]])]),da],32)]),(0,l._)("div",na,[a.successMessage?((0,l.wg)(),(0,l.iD)("p",ua,(0,o.zw)(a.successMessage),1)):(0,l.kq)("",!0)])])])],512)])])])}var ma=e(1076),ba={data(){return{bares:[],barActualizado:{_id:null,name:"",address:"",image:"",phone:"",description:"",customer_id:""},file:null,fileActualizar:null,nuevoBar:{name:"",address:"",image:"",phone:"",description:"",customer_id:""}}},mounted(){this.fetchBares(),this.nuevoBar.customer_id=localStorage.getItem("customerId")},methods:{async fetchBares(){let a=localStorage.getItem("customerId");try{const r=await ma.Z.get("http://localhost:3000/app/Bar");let e=r.data.filter((r=>r._id===a));this.bares=e||[]}catch(r){console.error("Error fetching bares:",r)}},async eliminarBar(a){try{await ma.Z.delete(`http://localhost:3000/app/Bar/${a}`),this.fetchBares()}catch(r){console.error("Error deleting bar:",r)}},abrirModalActualizar(a){this.barActualizado={...a};const r=this.$refs.modalActualizar;r&&(r.classList.add("show"),r.style.display="block")},cerrarModalActualizar(){const a=this.$refs.modalActualizar;a&&(a.classList.remove("show"),a.style.display="none")},abrirModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.add("show"),a.style.display="block")},cerrarModalCrear(){const a=this.$refs.modalCrear;a&&(a.classList.remove("show"),a.style.display="none")},async crearBar(){try{const a=new FormData;a.append("name",this.nuevoBar.name),a.append("address",this.nuevoBar.address),a.append("phone",this.nuevoBar.phone),a.append("description",this.nuevoBar.description),a.append("customer_id",this.nuevoBar.customer_id),a.append("image",this.file);const r=await ma.Z.post("http://localhost:3000/app/Bar",a);console.log(r),this.nuevoBar={name:"",address:"",image:"",phone:"",description:"",customer_id:""},this.file=null,this.cerrarModalCrear(),this.fetchBares()}catch(a){console.error("Error creating Bar:",a)}},async actualizarBar(){if(this.fileActualizar){const r=new FormData;r.append("name",this.barActualizado.name),r.append("address",this.barActualizado.address),r.append("phone",this.barActualizado.phone),r.append("description",this.barActualizado.description),r.append("customer_id",this.barActualizado.customer_id),r.append("imagen",this.fileActualizar),r.append("image","");try{const a=await ma.Z.put(`http://localhost:3000/app/Bar/${this.barActualizado._id}`,r);console.log(a),this.fetchBares(),this.cerrarModalActualizar(),this.fileActualizar=null}catch(a){console.error("Error updating Bar:",a)}}else try{const a=await ma.Z.put(`http://localhost:3000/app/Bar/${this.barActualizado._id}`,this.barActualizado);console.log(a),this.fetchBares(),this.cerrarModalActualizar()}catch(a){console.error("Error updating Bar:",a)}},uploadFile(a){this.file=a.target.files[0]},uploadFileActualizar(a){this.fileActualizar=a.target.files[0]}}},ha=e(89);const _a=(0,ha.Z)(ba,[["render",pa],["__scopeId","data-v-7861a5c8"]]);var fa=_a}}]);
//# sourceMappingURL=286.5fbd9f6c.js.map
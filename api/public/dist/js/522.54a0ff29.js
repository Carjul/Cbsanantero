"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[522],{8522:function(a,o,e){e.r(o),e.d(o,{default:function(){return aa}});var l=e(3396),r=e(7139),t=e(9242);const s=a=>((0,l.dD)("data-v-6a930922"),a=a(),(0,l.Cn)(),a),i={class:"container"},d=s((()=>(0,l._)("hr",null,null,-1))),c={class:"row"},n={class:"card mb-4"},m=["onClick","src"],u={class:"card-body"},p=s((()=>(0,l._)("hr",null,null,-1))),f={class:"h3 text-decoration-none"},_=s((()=>(0,l._)("hr",null,null,-1))),h={class:"h5 text-decoration-none"},b=s((()=>(0,l._)("p",{class:"card-text"},null,-1))),g={class:"d-flex justify-content-between"},D={class:"m-0"},v=s((()=>(0,l._)("i",{class:"fa fa-map-marker-alt text-primary mr-2"},null,-1))),y={class:"m-0"},w=s((()=>(0,l._)("i",{class:"fas fa-coins text-primary mr-2"},null,-1))),I=s((()=>(0,l._)("hr",null,null,-1))),k={key:0},S=s((()=>(0,l._)("button",{class:"btn btn-primary","data-toggle":"modal","data-target":"#solicitudModal"},"Solicitar servicio",-1))),C={key:1},U=["onClick"],j={class:"modal",id:"solicitudModal",tabindex:"-1",role:"dialog","aria-labelledby":"solicitudModalLabel","aria-hidden":"true"},x={class:"modal-dialog",role:"document"},M={class:"modal-content"},V={class:"modal-header"},H=s((()=>(0,l._)("h4",{class:"modal-title",id:"solicitudModalLabel"},"Solicitar Servicio",-1))),R={class:"modal-body"},q=s((()=>(0,l._)("b",null,[(0,l._)("p",null,"Creando servicio:")],-1))),z={class:"form-group"},E=s((()=>(0,l._)("label",{for:"nombre"},"Nombres:",-1))),N={class:"form-group"},F=s((()=>(0,l._)("label",{for:"correo"},"Correo:",-1))),Z={class:"form-group"},G=s((()=>(0,l._)("label",{for:"celular"},"Numero de celular:",-1))),L={class:"form-group"},$=s((()=>(0,l._)("label",{for:"description"},"Descripcion:",-1))),K={class:"form-group"},O=s((()=>(0,l._)("label",{for:"person"},"Personal:",-1))),P={class:"form-group"},W=s((()=>(0,l._)("label",{for:"entrada"},"Entrada:",-1))),Y={class:"form-group"},A=s((()=>(0,l._)("label",{for:"salida"},"Salida:",-1)));function B(a,o,e,s,B,J){const Q=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",i,[d,(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(B.hospedajes,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"col-md-4",key:a.id},[(0,l._)("div",n,[(0,l._)("img",{onClick:o=>J.enviarIdGaleria(a.customer_id,a._id),src:a.image,class:"card-img-top",alt:"Hospedaje"},null,8,m),(0,l._)("div",u,[p,(0,l._)("p",f,(0,r.zw)(a.name),1),_,(0,l._)("p",h,(0,r.zw)(a.description),1),b,(0,l._)("div",g,[(0,l._)("h5",D,[v,(0,l.Uk)((0,r.zw)(a.address),1)]),(0,l._)("h5",y,[w,(0,l.Uk)((0,r.zw)(a.price),1)])]),I,null===B.customerRol?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(Q,{to:"/resgister"},{default:(0,l.w5)((()=>[S])),_:1})])):(0,l.kq)("",!0),"Cliente"===B.customerRol?((0,l.wg)(),(0,l.iD)("div",C,[(0,l._)("button",{class:"btn btn-primary","data-toggle":"modal","data-target":"#solicitudModal",onClick:o=>J.enviarcid(a.customer_id,a._id)},"Obtener Servicio",8,U)])):(0,l.kq)("",!0)])])])))),128))]),(0,l._)("div",j,[(0,l._)("div",x,[(0,l._)("div",M,[(0,l._)("div",V,[H,(0,l._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:o[0]||(o[0]=(...a)=>J.closeModal&&J.closeModal(...a))})]),(0,l._)("div",R,[q,(0,l._)("form",null,[(0,l._)("div",z,[E,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Describa nombre y apellido","onUpdate:modelValue":o[1]||(o[1]=a=>B.formData.nombre=a)},null,512),[[t.nr,B.formData.nombre]])]),(0,l._)("div",N,[F,(0,l.wy)((0,l._)("input",{type:"email",class:"form-control",placeholder:"Escriba su correo",id:"apellidos","onUpdate:modelValue":o[2]||(o[2]=a=>B.formData.correo=a)},null,512),[[t.nr,B.formData.correo]])]),(0,l._)("div",Z,[G,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"celular",placeholder:"eje +57 304 000 4445","onUpdate:modelValue":o[3]||(o[3]=a=>B.formData.celular=a)},null,512),[[t.nr,B.formData.celular]])]),(0,l._)("div",L,[$,(0,l.wy)((0,l._)("textarea",{id:"description",placeholder:"Describa su solicitud",rows:"3","onUpdate:modelValue":o[4]||(o[4]=a=>B.formData.description=a)},null,512),[[t.nr,B.formData.description]])]),(0,l._)("div",K,[O,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"person",placeholder:"NÃºmero de personas","onUpdate:modelValue":o[5]||(o[5]=a=>B.formData.person=a)},null,512),[[t.nr,B.formData.person]])]),(0,l._)("div",P,[W,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"entrada","onUpdate:modelValue":o[6]||(o[6]=a=>B.formData.entrada=a),required:""},null,512),[[t.nr,B.formData.entrada]])]),(0,l._)("div",Y,[A,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"salida","onUpdate:modelValue":o[7]||(o[7]=a=>B.formData.salida=a),required:""},null,512),[[t.nr,B.formData.salida]])]),(0,l._)("button",{type:"button",class:"btn btn-success",onClick:o[8]||(o[8]=(...a)=>J.submitForm&&J.submitForm(...a))},"Solicitar")])])])])])])}e(560);var J=e(1076),Q={data(){return{hospedajes:[],customerRol:null,tipo:"Hospedaje",formData:{nombre:"",celular:"",correo:"",description:"",person:"",entrada:"",salida:"",clienteId:null,negocioId:null,customer_id:null}}},mounted(){this.customerRol=localStorage.getItem("usuarioRol"),this.formData.clienteId=localStorage.getItem("customerId"),this.formData.nombre=localStorage.getItem("nombreUsuario"),this.formData.correo=localStorage.getItem("correoUsuario"),this.formData.celular=localStorage.getItem("celularUsuario"),this.formData.person=localStorage.getItem("person"),this.formData.entrada=localStorage.getItem("entrada"),this.formData.salida=localStorage.getItem("salida"),this.fetchHospedajes()},methods:{async fetchHospedajes(){try{const a=await J.Z.get("http://localhost:3000/app/Hospedaje");this.hospedajes=a.data}catch(a){console.error("Error al obtener los hospedajes",a)}},async submitForm(){try{const a=await J.Z.post(`http://localhost:3000/app/pedirServicio?tipo=${this.tipo}`,this.formData);console.log(a),this.formData.customer_id=null,this.formData.negocioId=null,this.formData.description="",this.formData.person="",this.formData.entrada="",this.formData.salida=""}catch(a){console.error("Error al enviar la solicitud",a)}},enviarIdGaleria(a,o){localStorage.setItem("customerNegocioId",a),localStorage.setItem("negocioId",o),this.$router.push({path:"/artegaleria"})},enviarcid(a,o){this.formData.customer_id=a,this.formData.negocioId=o},closeModal(){this.formData={_id:null,nombre:"",celular:"",correo:"",descripcion:"",person:"",entrada:"",salida:"",customerId:null}}}},T=e(89);const X=(0,T.Z)(Q,[["render",B],["__scopeId","data-v-6a930922"]]);var aa=X}}]);
//# sourceMappingURL=522.54a0ff29.js.map
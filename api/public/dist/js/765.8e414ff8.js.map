{"version":3,"file":"js/765.8e414ff8.js","mappings":"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","sources":["webpack://front/./src/views/notification/NotifiView.vue","webpack://front/./src/views/notification/NotifiView.vue?b283"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <hr>\r\n      <div v-if=\"notificaciones.length === 0\">\r\n        <p>No tienes notificaciones</p>\r\n      </div>\r\n      <div v-else>\r\n        <div v-for=\"notificacion in notificaciones\" :key=\"notificacion.id\" @click=\"cargarNotificacion(notificacion)\" data-bs-toggle=\"modal\" data-bs-target=\"#messageModal\" class=\"shadow-lg p-3 mb-2 bg-body-tertiary rounded message\">\r\n          <div class=\"message-content\">\r\n            <i :class=\"['fas', notificacion.revision ? 'message-icon fa-envelope' : 'fa-envelope-open']\"> : {{ notificacion.nombre }} </i>\r\n            <div class=\"message-text\">\r\n              <i>............{{ notificacion.description }}</i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Modal -->\r\n      <div class=\"modal fade\" id=\"messageModal\" tabindex=\"-1\" aria-labelledby=\"messageModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-lg\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"messageModalLabel\">Fecha: {{ notificacion.fecha }}</h5>\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">X</button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div class=\"modal-body\">\r\n                <table class=\"table table-bordered table-striped\">\r\n                  <tr>\r\n                    <td class=\"title\">Administrador</td>\r\n                    <td>{{ notificacion.customerName }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Solicitante:</td>\r\n                    <td>{{ notificacion.nombre }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Asunto:</td>\r\n                    <td>{{ notificacion.description }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Personas:</td>\r\n                    <td>{{ notificacion.person }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Correo:</td>\r\n                    <td>{{ notificacion.correo }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Contacto:</td>\r\n                    <td>{{ notificacion.celular }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Fecha Entrada</td>\r\n                    <td>{{ notificacion.entrada }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">Fecha Salida:</td>\r\n                    <td>{{ notificacion.salida }}</td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n            </div>\r\n  \r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cerrar</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        notificacion: {},\r\n        notificaciones: [],\r\n        clientes: [], // Array para almacenar los clientes\r\n        tipoNegocioUsuario: '',\r\n        adminId: '669eeb77b1259a7ef20afcab', // ID del admin\r\n      };\r\n    },\r\n    methods: {\r\n      getNotificacion() {\r\n        let idc = localStorage.getItem('customerId');\r\n        let url = `${process.env.API}/pedirServicioc/${idc}`;\r\n  \r\n        axios.get(url)\r\n          .then((response) => {\r\n            this.notificaciones = response.data || [];\r\n            this.compareIds(); // Compara los IDs después de obtener las notificaciones\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      },\r\n      getAllClientes() {\r\n        let url = `${process.env.API}/Customer`;\r\n  \r\n        axios.get(url)\r\n          .then((response) => {\r\n            this.clientes = response.data || [];\r\n            console.log('Clientes:', this.clientes); // Imprime el array de clientes en la consola\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      },\r\n      cargarNotificacion(obj) {\r\n        this.notificacion = obj;\r\n        if (obj.revision) {\r\n          axios.put(`${process.env.API}/ServicioStatus/${obj._id}`, { \"revision\": false })\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              this.getNotificacion();\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        }\r\n      },\r\n      findClienteNameById(customerId) {\r\n        const cliente = this.clientes.find(cliente => cliente._id === customerId);\r\n        return cliente ? cliente.Name : 'No disponible';\r\n      },\r\n      compareIds() {\r\n        // Llama a este método después de obtener las notificaciones y clientes\r\n        this.notificaciones.forEach(notificacion => {\r\n          notificacion.clienteNombre = this.findClienteNameById(notificacion.customerId); // Asume que notificacion tiene un campo customerId\r\n        });\r\n      },\r\n    },\r\n    mounted() {\r\n      this.getNotificacion();\r\n      this.getAllClientes(); // Llama al método para obtener todos los clientes\r\n      this.tipoNegocioUsuario = localStorage.getItem('tipoNegocioUsuario'); \r\n    },\r\n  };\r\n  </script>\r\n  \r\n\r\n\r\n\r\n\r\n<style>\r\n .message {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 20px;\r\n    margin-bottom: 5px; /* Reduced margin to avoid separation */\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    background-color: #f8f9fa; /* bg-body-tertiary */\r\n    transition: background-color 0.3s ease;\r\n}\r\n\r\n.message:hover {\r\n    background-color: #e2e6ea;\r\n}\r\n\r\n.message-content {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.message-icon {\r\n    font-size: 24px;\r\n    margin-right: 40px; /* Increased margin for more separation */\r\n    color: #dc3545; /* bg-danger */\r\n}\r\n\r\n.message-icon::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: -5px;\r\n    right: -5px;\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: #28a745; /* Green indicator */\r\n    border-radius: 50%;\r\n    border: 2px solid white; /* Optional: border to make the dot stand out */\r\n}\r\n\r\n.message-text {\r\n    font-size: 18px;\r\n}\r\n\r\n\r\n/* TEXTO DEL MODAL TIPO FACTURA  */\r\n\r\n.table {\r\n    width: 100%;\r\n    max-width: 600px; /* Máximo ancho para evitar que la tabla sea demasiado ancha */\r\n    margin: 0 auto; /* Centrar la tabla horizontalmente */\r\n}\r\n\r\n.title {\r\n    font-weight: bold;\r\n    background-color: #f2f2f2; /* Color de fondo para los títulos */\r\n}\r\n\r\n.table-striped tbody tr:nth-of-type(odd) {\r\n    background-color: #f9f9f9; /* Color de fondo para filas impares */\r\n}\r\n\r\n.table-bordered th,\r\n.table-bordered td {\r\n    border: 1px solid #ddd; /* Borde de la tabla */\r\n    padding: 8px; /* Espaciado interno */\r\n}\r\n\r\n\r\n</style>","import { render } from \"./NotifiView.vue?vue&type=template&id=5fb0bde8\"\nimport script from \"./NotifiView.vue?vue&type=script&lang=js\"\nexport * from \"./NotifiView.vue?vue&type=script&lang=js\"\n\nimport \"./NotifiView.vue?vue&type=style&index=0&id=5fb0bde8&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","id","tabindex","type","_createElementBlock","_hoisted_1","_hoisted_2","$data","notificaciones","length","_hoisted_3","_hoisted_5","_hoisted_6","_Fragment","_renderList","notificacion","key","onClick","$event","$options","cargarNotificacion","_hoisted_8","_normalizeClass","revision","_toDisplayString","nombre","_hoisted_9","description","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","fecha","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","customerName","_hoisted_20","_hoisted_21","_hoisted_22","person","_hoisted_23","correo","_hoisted_24","celular","_hoisted_25","entrada","_hoisted_26","salida","_hoisted_27","data","clientes","tipoNegocioUsuario","adminId","methods","getNotificacion","idc","localStorage","getItem","url","axios","get","then","response","this","compareIds","catch","error","console","log","getAllClientes","obj","put","_id","findClienteNameById","customerId","cliente","find","Name","forEach","clienteNombre","mounted","__exports__","render"],"sourceRoot":""}